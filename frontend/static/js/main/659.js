(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[659],{6610:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:()=>n})},89867:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var n=r(67294),a=r(37703),c=r(8719),l=r(8295),o=r(42905),i=r(76523);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t=e.price,r=e.index,a=(e.updatePriceList,e.viewPriceLists),c=u((0,n.useState)(""),2),l=c[0],o=c[1],i=u((0,n.useState)(""),2),s=i[0],m=i[1],d=u((0,n.useState)(""),2),f=d[0],p=d[1],h=u((0,n.useState)(""),2),v=h[0],y=h[1],g=u((0,n.useState)(""),2),E=g[0],b=g[1];return(0,n.useEffect)((function(){o(t.price_list.min_amount?t.price_list.min_amount:1),m(t.price_list.max_amount?t.price_list.max_amount:1),p(t.price_list.rate?t.price_list.rate:t.price),y(t.price_list.discount_amount?t.price_list.discount_amount:0),b(t.price_list.discount_percent?t.price_list.discount_percent:0)}),[t]),n.createElement(n.Fragment,null,n.createElement("tr",null,n.createElement("td",null,r+1),n.createElement("td",null,t.name),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter min amount",value:l,name:"minAmount",onChange:function(e){return o(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter max amount",value:s,name:"maxAmount",onChange:function(e){return m(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter rate",value:f,name:"rate",onChange:function(e){return p(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount amount",value:v,name:"disc_amount",onChange:function(e){return y(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount percentage",value:E,name:"disc_amount",onChange:function(e){return b(e.target.value)},disabled:!0})),n.createElement("td",null,n.createElement("button",{onClick:function(){return a(t)},className:"btn btn-primary"},"Add"))))}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){e.uploadPriceList;var t,r,a=e.price_list,c=e.deletePriceList,l=e.updatePriceList,o=e.viewPriceLists,i=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return i[0],i[1],n.createElement(n.Fragment,null,n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between"},n.createElement("h3",null,"Price Table"),n.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 form-group"}))),n.createElement("div",{className:"row"},n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"#"),n.createElement("th",null,"Product"),n.createElement("th",null,"Min Qty*"),n.createElement("th",null,"Max Qty*"),n.createElement("th",null,"Rate*(KES)"),n.createElement("th",null,"Disc Amount*(KES)"),n.createElement("th",null,"Percentage(%)"),n.createElement("th",null,"Actions"))),n.createElement("tbody",null,a.map((function(e,t){return n.createElement(m,{price:e,index:t,key:t,updatePriceList:l,deletePriceList:c,viewPriceLists:o})}))))))}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){e.changePage,e.products;var t=e.categories,r=e.price_levels,a=e.addPriceList,c=(e.fetchProducts,e.price_list),l=e.fetchPriceLists,o=e.updatePriceList,u=e.deletePriceList,s=e.goToViewProduct,m=p((0,n.useState)(""),2),d=m[0],h=m[1],v=p((0,n.useState)(""),2),y=v[0],g=v[1],E=p((0,n.useState)(""),2),b=E[0],P=(E[1],p((0,n.useState)(""),2)),_=P[0],S=P[1],w=p((0,n.useState)(null),2),L=w[0],x=w[1],N=p((0,n.useState)(""),2),A=N[0],k=N[1];return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("h3",null," PriceList")),n.createElement("div",{className:"card-content"},n.createElement(i.Z,{isError:L,responseMessage:A}),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Level*"),n.createElement("select",{class:"form-control",value:y,onChange:function(e){l(1,d,_,e.target.value),g(e.target.value)},required:!0,autoFocus:!0},n.createElement("option",{value:""},"..."),r.map((function(e,t){return n.createElement("option",{key:t,value:e.id},e.level_name)})))),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12  form-group"},n.createElement("label",null,"Select Category"),n.createElement("select",{class:"form-control",value:d,onChange:function(e){h(e.target.value),l(1,e.target.value,_,y)}},n.createElement("option",{value:""},"..."),t.map((function(e,t){return n.createElement("option",{key:t,value:e.id},e.name)})))),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Applicable From*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter date applicable",value:_,name:"from",onChange:function(e){l(1,d,e.target.value,y),S(e.target.value)},required:!0}))),n.createElement(f,{uploadPriceList:function(e,t,r,n,c){x(null),k(""),y&&b&&e&&t&&r&&n&&c&&_?a({category_id:d,product_id:b,level_id:y,min_amount:e,max_amount:t,rate:r,discount_amount:n,discount_percent:c,date_from:_}):(x(!0),k("Please input all relevant fields"))},price_list:c,updatePriceList:o,deletePriceList:u,viewPriceLists:function(e){s({product:e,category:d,level:y,from:_})}})))))}var y=r(73288),g=r(68134);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e){var t=e.price,r=e.updatePriceList,a=e.deletePriceList,c=e.index,l=E((0,n.useState)(""),2),o=l[0],i=l[1],u=E((0,n.useState)(""),2),s=u[0],m=u[1],d=E((0,n.useState)(""),2),f=d[0],p=d[1],h=E((0,n.useState)(""),2),v=h[0],y=h[1],b=E((0,n.useState)(""),2),P=b[0],_=b[1],S=E((0,n.useState)(!1),2),w=S[0],L=S[1];return(0,n.useEffect)((function(){i(t.min_amount?t.min_amount:1),m(t.max_amount?t.max_amount:1),p(t.rate?t.rate:0),y(t.discount_amount?t.discount_amount:0),_(t.discount_percent?t.discount_percent:0)}),[t]),n.createElement(n.Fragment,null,w?n.createElement("tr",null,n.createElement("td",null,c+1),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter min amount",value:o,name:"minAmount",onChange:function(e){return i(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter max amount",value:s,name:"maxAmount",onChange:function(e){return m(e.target.value)}})),n.createElement("td",{className:"text-right"},n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter rate",value:f,name:"rate",onChange:function(e){return p(e.target.value)}})),n.createElement("td",{className:"text-right"},n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount amount",value:v,name:"disc_amount",onChange:function(e){return y(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount percentage",value:P,name:"disc_amount",onChange:function(e){return _(e.target.value)}})),n.createElement("td",null,n.createElement("i",{onClick:function(){o&&s&&f&&(r({min_amount:o,max_amount:s,rate:f,discount_amount:v,discount_percent:P,id:t.id}),L(!1))},className:"fas fa-check text-success btn_type"}),n.createElement("i",{onClick:function(){return L(!1)},className:"fas fa-times text-danger btn_type ml-2"}))):n.createElement("tr",null,n.createElement("td",null,c+1),n.createElement("td",null,t.min_amount),n.createElement("td",null,t.max_amount),n.createElement("td",{className:"text-right"},"KES. ",(0,g.Z)(t.rate)),n.createElement("td",{className:"text-right"}," ","KES. ",(0,g.Z)(t.discount_amount)),n.createElement("td",null,t.discount_percent),n.createElement("td",null,n.createElement("i",{onClick:function(){return L(!0)},className:"fas fa-edit text-primary btn_type"}),n.createElement("i",{onClick:function(){return a(t.id)},className:"fas fa-trash text-danger btn_type ml-2"}))))}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=e.price_list,r=e.currentPrice,a=e.uploadPriceList,c=e.updatePriceList,l=e.deletePriceList,o=_((0,n.useState)(""),2),i=o[0],u=o[1],s=_((0,n.useState)(""),2),m=s[0],d=s[1],f=_((0,n.useState)(r),2),p=f[0],h=f[1],v=_((0,n.useState)(""),2),y=v[0],g=v[1],E=_((0,n.useState)(""),2),b=E[0],S=E[1];return(0,n.useEffect)((function(){h(r);var e=t.sort((function(e,t){return t.max_amount-e.max_amount}));u(e[0]?e[0].max_amount+1:"")}),[r,t]),n.createElement(n.Fragment,null,n.createElement("div",{className:"card-header"},n.createElement("h3",null,"Price Table")),n.createElement("div",{className:"row"},n.createElement("table",{className:"table table-bordered"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"#"),n.createElement("th",null,"Min Qty*"),n.createElement("th",null,"Max Qty*"),n.createElement("th",{className:"text-right"},"Rate Per Product*"),n.createElement("th",{className:"text-right"},"Disc Amount"),n.createElement("th",null,"Percentage(%)"),n.createElement("th",null,"Actions"))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,"#"),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter min amount",value:i,name:"minAmount",onChange:function(e){return u(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter max amount",value:m,name:"maxAmount",onChange:function(e){return d(e.target.value)}})),n.createElement("td",{className:"text-right"},n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter rate",value:p,name:"rate",onChange:function(e){return h(e.target.value)}})),n.createElement("td",{className:"text-right"},n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount amount",value:y,name:"disc_amount",onChange:function(e){return g(e.target.value)}})),n.createElement("td",null,n.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter discount percentage",value:b,name:"disc_amount",onChange:function(e){return S(e.target.value)}})),n.createElement("td",null,n.createElement("div",{onClick:function(){return a(i,m,p,y,b),u(t[0]?t[0].max_amount+1:""),d(""),h(r),g(""),void S("")},className:"btn btn-primary"},"Add"))),t.map((function(e,t){return n.createElement(P,{price:e,index:t,key:t,updatePriceList:c,deletePriceList:l})}))))))}var L=r(79860);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){var t=e.price_list,r=(e.products,e.categories,e.price_levels),a=e.changePage,l=(e.price_values,e.fetchPriceLists),o=e.price_data,u=e.updatePriceList,s=e.deletePriceList,m=e.addPriceList,d=x((0,n.useState)(""),2),f=d[0],p=d[1],h=x((0,n.useState)(""),2),v=h[0],g=h[1],E=x((0,n.useState)(""),2),b=E[0],P=E[1],_=x((0,n.useState)(""),2),S=_[0],N=_[1],A=x((0,n.useState)(null),2),k=A[0],O=A[1],j=x((0,n.useState)(""),2),C=j[0],M=j[1];return(0,n.useEffect)((function(){if(o){var e={value:o.product,label:o.product.name};p(o.category),P(e),N(o.from),g(o.level),l(1,o.product.id,o.from,o.level)}}),[o]),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between ml-2 mr-2"},n.createElement("center",null,n.createElement("h3",null,"View PriceList")),n.createElement(y.Z,{prevPropsName:"Price Lists",propsName:"Add Price List",changePage:a}))),n.createElement("div",{className:"card-content"},n.createElement(i.Z,{isError:k,responseMessage:C}),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Level*"),n.createElement("select",{class:"form-control",value:v,onChange:function(e){l(1,b.value.id,S,e.target.value),g(e.target.value)},required:!0,autoFocus:!0},n.createElement("option",{value:""},"..."),r.map((function(e,t){return n.createElement("option",{key:t,value:e.id},e.level_name)})))),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12  form-group"},n.createElement("label",null,"Select Product"),n.createElement(L.Z,{isMulti:!1,value:b,setValue:function(e){P(e),l(1,e.value.id,S,v)},fetchData:c.RQ,closeMenuOnSelect:!0})),n.createElement("div",{class:"col-lg-4 col-md-6 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Applicable From*"),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter date applicable",value:S,name:"from",onChange:function(e){l(1,b.value.id,e.target.value,v),N(e.target.value)},required:!0}))),n.createElement(w,{price_list:t,currentPrice:b?b.value.price:"",uploadPriceList:function(e,t,r,n,a){v&&b&&e&&t&&r&&S?(O(null),M(""),m({category_id:f,product_id:b.value.id,level_id:v,min_amount:e,max_amount:t,rate:r,discount_amount:n,discount_percent:a,date_from:S})):(O(!0),M("Please input all relevant fields"))},updatePriceList:u,deletePriceList:s})))))}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(u,e);var t,r,a,c,i=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(a);if(c){var r=R(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return C(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1,viewPrice:null,price_data:null},t.closeSnackBar=t.closeSnackBar.bind(M(t)),t.setResponse=t.setResponse.bind(M(t)),t.changePage=t.changePage.bind(M(t)),t.viewEditPriceList=t.viewEditPriceList.bind(M(t)),t.goToViewProduct=t.goToViewProduct.bind(M(t)),t}return t=u,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.error,n=t.message;r!==e.error?this.setResponse(r):n!==e.message&&this.setResponse(n)}},{key:"componentDidMount",value:function(){this.props.fetchCategories(),this.props.fetchProducts(1),this.props.fetchProductPriceLevels(),this.props.fetchAddPriceList(1)}},{key:"changePage",value:function(e){2==e&&(this.props.fetchCategories(),this.props.fetchProductPriceLevels(),this.props.fetchAddPriceList(1)),this.setState({currentPage:e})}},{key:"viewEditPriceList",value:function(e){this.props.fetchCategories(),this.props.fetchProducts(1),this.props.fetchProductPriceLevels(),this.setState({viewPrice:e,currentPage:3})}},{key:"goToViewProduct",value:function(e){this.setState({price_data:e,currentPage:2})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],r=e.responseMessage[t];r instanceof Array?this.setState({responseMessage:r[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:r,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.productsReducer,r=e.addPriceList,a=e.fetchProducts,c=e.fetchAddPriceList,i=e.updatePriceList,u=e.deletePriceList,s=e.fetchPriceLists,m=e.auth,d=t.price_lists,f=t.product_price_list,p=t.categories,h=t.isLoading,y=t.products,g=t.price_levels,E=this.state,b=E.openSnackBar,P=E.isError,_=E.responseMessage,S=E.snackPosition,w=E.currentPage,L=(E.viewPrice,E.price_data),x={isError:P,responseMessage:_,openSnackBar:b,snackPosition:S};if(!m.group.permission.can_view_products)return PermissionHandler(this.props.auth.group.permission);switch(w){case 1:return n.createElement("div",null,n.createElement(o.Z,{open:h}),n.createElement(v,{changePage:this.changePage,products:y,categories:p,price_levels:g,addPriceList:r,fetchProducts:a,price_list:f,fetchPriceLists:c,updatePriceList:i,deletePriceList:u,goToViewProduct:this.goToViewProduct}),n.createElement(l.Z,{values:x,closeSnackBar:this.closeSnackBar}));case 2:return n.createElement("div",null,n.createElement(o.Z,{open:h}),n.createElement(A,{changePage:this.changePage,products:y,categories:p,price_levels:g,fetchProducts:a,price_list:d,fetchPriceLists:s,updatePriceList:i,deletePriceList:u,addPriceList:r,price_data:L}));default:return n.createElement("div",null,n.createElement(o.Z,{open:h}),n.createElement(v,{changePage:this.changePage,products:y,categories:p,price_levels:g,addPriceList:r,fetchProducts:a,price_list:f,fetchPriceLists:c,updatePriceList:i,deletePriceList:u,goToViewProduct:this.goToViewProduct}),n.createElement(l.Z,{values:x,closeSnackBar:this.closeSnackBar}))}}}])&&O(t.prototype,r),u}(n.Component);const Z=(0,a.$j)((function(e){return{auth:e.authReducer,productsReducer:e.productsReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchPriceLists:c.Vo,fetchAddPriceList:c.Qz,addPriceList:c.zz,fetchProducts:c.t2,fetchCategories:c.pE,fetchProductPriceLevels:c.zn,updatePriceList:c.ND,deletePriceList:c.Rr})(T)},68134:(e,t,r)=>{"use strict";function n(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}r.d(t,{Z:()=>n})},79860:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(67294),a=r(1717);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=e.value,r=e.setValue,c=e.fetchData,o=e.isMulti,i=e.closeMenuOnSelect,u=e.isDisabled,s=e.isClearable,m="light",d=document.getElementsByTagName("body")[0],f={control:function(e){return l(l({},e),{},{backgroundColor:d.classList.contains(m)?"#ffffff":"#212529"})},menu:function(e){return l(l({},e),{},{backgroundColor:d.classList.contains(m)?"#ffffff":"#212529"})},option:function(e,t){var r=t.isFocused;return l(l({},e),{},{backgroundColor:d.classList.contains(m)?r?"#f1f1f1":"#ffffff":r?"#f1f1f1":"#212529"})}};return n.createElement(a.n9,{isMulti:o,isClearable:s,loadOptions:c,value:t,onChange:r,additional:{page:1},styles:f,closeMenuOnSelect:i,key:Math.random(),isDisabled:u})}},73288:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(67294),a=r(41120),c=r(22318),l=r(10770),o=r(89659),i=r(73727),u=(0,a.Z)((function(e){return{link:{display:"flex"},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));function s(e){var t=u(),r=e.propsName,a=e.changePage,s=e.prevPropsName;return n.createElement(l.Z,{"aria-label":"breadcrumb"},n.createElement(i.rU,{to:"/",style:{color:"grey"},className:t.link},"Home"),n.createElement(o.Z,{color:"initial",href:"/product",onClick:function(e){e.preventDefault(),a(1)},className:"side_nav_item"},n.createElement("span",null,s)),n.createElement(c.Z,{color:"initial",className:"side_nav_item"},r))}},69921:(e,t)=>{"use strict";if("function"==typeof Symbol&&Symbol.for){var r=Symbol.for;r("react.element"),r("react.portal"),r("react.fragment"),r("react.strict_mode"),r("react.profiler"),r("react.provider"),r("react.context"),r("react.forward_ref"),r("react.suspense"),r("react.suspense_list"),r("react.memo"),r("react.lazy"),r("react.block"),r("react.server.block"),r("react.fundamental"),r("react.debug_trace_mode"),r("react.legacy_hidden")}},59864:(e,t,r)=>{"use strict";r(69921)}}]);