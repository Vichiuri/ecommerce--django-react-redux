(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[133],{85133:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(67294),r=a(37703),l=a(31358),o=a(8295),c=a(15643),s=a(76523);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function u(e){var t=e.user,a=e.account,r=e.updateUser,l=i((0,n.useState)(a.first_name?a.first_name:""),2),o=l[0],m=l[1],u=i((0,n.useState)(a.last_name?a.last_name:""),2),p=u[0],f=u[1],d=i((0,n.useState)(a.bio?a.bio:""),2),v=d[0],E=d[1],b=i((0,n.useState)(a.phone?a.phone:""),2),h=b[0],y=b[1],g=i((0,n.useState)(a.pic?a.pic:""),2),N=g[0],w=g[1],S=i((0,n.useState)(""),2),k=S[0],_=S[1],P=i((0,n.useState)(""),2),x=P[0],C=P[1],j=i((0,n.useState)(""),2),R=j[0],O=j[1],B=i((0,n.useState)(""),2),M=B[0],A=B[1],U=i((0,n.useState)(""),2),F=U[0],D=U[1],T=i((0,n.useState)(0),2),Z=T[0],z=T[1],I=i((0,n.useState)(null),2),L=I[0],q=I[1],$=i((0,n.useState)(""),2),G=$[0],H=$[1];function J(e){if(q(null),H(""),o&&p&&h){var t=new FormData;t.append("first_name",o),t.append("last_name",p),t.append("phone",h),t.append("bio",v),k&&t.append("photo",k),t.append("delete_image",e||x),M?R&&M==F?(t.append("new_password",M),t.append("confirm_password",F),t.append("old_password",R),r(t)):R?M!=F&&(q(!0),H("New Password and confirm do not match")):(q(!0),H("Please input current password")):(t.append("new_password",M),r(t))}else o?p?h||(q(!0),H("Please enter phone number")):(q(!0),H("Please enter last name")):(q(!0),H("Please enter first name"))}return n.createElement(n.Fragment,null,n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-2 col-md-6 col-sm-12 col-xs-12 mb-3"},n.createElement("div",{className:"mx-auto",style:{width:"140px"}},n.createElement("div",{className:"d-flex justify-content-center align-items-center rounded",style:{height:"140px",backgroundColor:"rgb(233, 236, 239)"}},n.createElement("div",null,N?n.createElement("img",{src:N,alt:"user img",style:{width:"100%",height:"100%",objectFit:"cover"}}):n.createElement("span",{style:{color:"rgb(166, 168, 170)",font:" bold 8pt Arial"}},"140x140"),n.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var a=URL.createObjectURL(t);w(a),function(e){(0,c.Z)(e).then((function(e){_(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return z(e)}}))))),n.createElement("div",{className:"col-lg-8 col-md-6 col-sm-12 col-xs-12 mb-3"},n.createElement("div",{className:"text-center text-sm-left mb-2 mb-sm-0"},n.createElement("h4",{className:"pt-sm-2 pb-1 mb-0 text-nowrap"},a.last_name?"".concat(a.first_name," ").concat(a.last_name):a.first_name),n.createElement("p",{className:"mb-0"},t.email),n.createElement("div",{className:"text-muted"},n.createElement("small",null,a.phone)),n.createElement("div",{className:"mt-2 d-flex"},n.createElement("button",{onClick:function(){return Z.click()},className:"btn btn-primary"},n.createElement("i",{className:"fa fa-fw fa-camera"}),n.createElement("span",null,"Change Photo")),N?n.createElement("button",{onClick:function(){var e,t;w(""),_(""),C(null!==(e=a.pic)&&void 0!==e?e:""),J(null!==(t=a.pic)&&void 0!==t?t:"")},className:"btn btn-danger ml-2"},n.createElement("i",{className:"fa fa-fw fa-camera"}),n.createElement("span",null,"Remove Photo")):n.createElement("div",null))))),n.createElement("div",{className:"tab-content pt-3"},n.createElement(s.Z,{isError:L,responseMessage:G}),n.createElement("div",{className:"tab-pane active"},n.createElement("div",{className:"form"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"First Name"),n.createElement("input",{className:"form-control",type:"text",name:"first_name",placeholder:"Please input first name",value:o,onChange:function(e){return m(e.target.value)}}))),n.createElement("div",{className:"col"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"Last Name"),n.createElement("input",{className:"form-control",type:"text",name:"last_name",placeholder:"Please input last name",value:p,onChange:function(e){return f(e.target.value)}})))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"Email Address"),n.createElement("input",{className:"form-control",type:"text",placeholder:"Please enter email",value:t.email,disabled:!0}))),n.createElement("div",{className:"col"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"Phone Number"),n.createElement("input",{className:"form-control",type:"text",name:"phone",placeholder:"Please input phone number",value:h,onChange:function(e){return y(e.target.value)}})))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col mb-3"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"About"),n.createElement("textarea",{className:"form-control",rows:"5",placeholder:"My Bio",value:v,onChange:function(e){return E(e.target.value)}})))))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-12 col-sm-6 mb-3"},n.createElement("div",{className:"mb-2"},n.createElement("b",null,"Change Password")),n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"Current Password"),n.createElement("input",{className:"form-control",type:"password",placeholder:"••••••",value:R,onChange:function(e){return O(e.target.value)}})))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"New Password"),n.createElement("input",{className:"form-control",type:"password",placeholder:"••••••",value:M,onChange:function(e){return A(e.target.value)}})))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"form-group"},n.createElement("label",null,"Confirm",n.createElement("span",{className:"d-none d-xl-inline"},"Password")),n.createElement("input",{className:"form-control",type:"password",placeholder:"••••••",value:F,onChange:function(e){return D(e.target.value)}})))))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col d-flex justify-content-end"},n.createElement("button",{className:"btn btn-primary",onClick:function(){return J()}},"Save Changes")))))))}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,a,r,l,c=(r=s,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(l){var a=b(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return v(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"}},t.closeSnackBar=t.closeSnackBar.bind(E(t)),t.setResponse=t.setResponse.bind(E(t)),t}return t=s,(a=[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.message;a!==e.error?this.setResponse(a):n!==e.message&&this.setResponse(n)}},{key:"componentDidMount",value:function(){}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],a=e.responseMessage[t];a instanceof Array?this.setState({responseMessage:a[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:a,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.updateUser,r=t.user,l=t.account,c=this.state,s=c.openSnackBar,i={isError:c.isError,responseMessage:c.responseMessage,openSnackBar:s,snackPosition:c.snackPosition};return n.createElement("div",null,n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col mb-3"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-body"},n.createElement("div",{className:"e-profile"},n.createElement(u,{user:r,account:l,updateUser:a})))))))),n.createElement(o.Z,{values:i,closeSnackBar:this.closeSnackBar}))}}])&&f(t.prototype,a),s}(n.Component);const y=(0,r.$j)((function(e){return{auth:e.authReducer,error:e.errorsReducer,message:e.messagesReducer}}),{updateUser:l.Nq})(h)},15643:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l}),a(76770);var n=a(98005),r=a.n(n);function l(e){return new Promise((function(t,a){new(r())(e,{quality:1,success:function(e){var a=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="",n=0;n<10;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}(),n=new File([e],"".concat(a,".png"),{type:"image/png",lastModified:(new Date).getTime()});t(n)},error:function(e){a(e)}})}))}}}]);