(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[572],{10770:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(22122),r=n(87329),l=n(81253),o=n(67294),s=(n(59864),n(45697),n(86010)),c=n(14670),i=n(22318),u=n(59693);const m=(0,n(25209).Z)(o.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var p=n(54720);const d=(0,c.Z)((function(e){return{root:{display:"flex",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,cursor:"pointer","&:hover, &:focus":{backgroundColor:e.palette.grey[200]},"&:active":{boxShadow:e.shadows[0],backgroundColor:(0,u._4)(e.palette.grey[200],.12)}},icon:{width:24,height:16}}}),{name:"PrivateBreadcrumbCollapsed"})((function(e){var t=e.classes,n=(0,l.Z)(e,["classes"]);return o.createElement(p.Z,(0,a.Z)({component:"li",className:t.root,focusRipple:!0},n),o.createElement(m,{className:t.icon}))}));var f=o.forwardRef((function(e,t){var n=e.children,c=e.classes,u=e.className,m=e.component,p=void 0===m?"nav":m,f=e.expandText,g=void 0===f?"Show path":f,h=e.itemsAfterCollapse,v=void 0===h?1:h,y=e.itemsBeforeCollapse,E=void 0===y?1:y,b=e.maxItems,_=void 0===b?8:b,S=e.separator,w=void 0===S?"/":S,N=(0,l.Z)(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),P=o.useState(!1),Z=P[0],k=P[1],x=o.Children.toArray(n).filter((function(e){return o.isValidElement(e)})).map((function(e,t){return o.createElement("li",{className:c.li,key:"child-".concat(t)},e)}));return o.createElement(i.Z,(0,a.Z)({ref:t,component:p,color:"textSecondary",className:(0,s.Z)(c.root,u)},N),o.createElement("ol",{className:c.ol},function(e,t,n){return e.reduce((function(a,r,l){return l<e.length-1?a=a.concat(r,o.createElement("li",{"aria-hidden":!0,key:"separator-".concat(l),className:t},n)):a.push(r),a}),[])}(Z||_&&x.length<=_?x:function(e){return E+v>=e.length?e:[].concat((0,r.Z)(e.slice(0,E)),[o.createElement(d,{"aria-label":g,key:"ellipsis",onClick:function(e){k(!0);var t=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");t&&t.focus()}})],(0,r.Z)(e.slice(e.length-v,e.length)))}(x),c.separator,w)))}));const g=(0,c.Z)({root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}},{name:"MuiBreadcrumbs"})(f)},89659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(22122),r=n(81253),l=n(67294),o=(n(45697),n(86010)),s=n(93871),c=n(14670),i=n(24896),u=n(17294),m=n(22318),p=l.forwardRef((function(e,t){var n=e.classes,c=e.className,p=e.color,d=void 0===p?"primary":p,f=e.component,g=void 0===f?"a":f,h=e.onBlur,v=e.onFocus,y=e.TypographyClasses,E=e.underline,b=void 0===E?"hover":E,_=e.variant,S=void 0===_?"inherit":_,w=(0,r.Z)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),N=(0,i.Z)(),P=N.isFocusVisible,Z=N.onBlurVisible,k=N.ref,x=l.useState(!1),C=x[0],j=x[1],A=(0,u.Z)(t,k);return l.createElement(m.Z,(0,a.Z)({className:(0,o.Z)(n.root,n["underline".concat((0,s.Z)(b))],c,C&&n.focusVisible,"button"===g&&n.button),classes:y,color:d,component:g,onBlur:function(e){C&&(Z(),j(!1)),h&&h(e)},onFocus:function(e){P(e)&&j(!0),v&&v(e)},ref:A,variant:S},w))}));const d=(0,c.Z)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(p)},22572:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var a=n(67294),r=n(21539),l=n(41076),o=n(87748),s=n(66037),c=n(17812),i=n(22318),u=n(90482);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e){var t=e.person,n=e.index,p=e.deleteSalesPerson,d=e.viewEdit,f=e.canManage,g=m((0,a.useState)(!1),2),h=g[0],v=g[1],y=m((0,a.useState)(null),2),E=y[0],b=y[1],_={anchorEl:E,popUpItems:[{icon:a.createElement("i",{className:"fas fa-edit btn_type"}),name:"Edit",value:"Edit"},{icon:a.createElement("i",{className:"fas fa-trash btn_type"}),name:"Delete",value:"Delete"}]};return a.createElement(a.Fragment,null,a.createElement("tr",null,a.createElement("td",null,n+1),a.createElement("td",null,a.createElement("div",{className:"sales_round_img"},a.createElement("img",{src:t.pic?"..".concat(t.pic):"../static/images/user.png",alt:"customer image"}))),a.createElement("td",null,t.first_name," ",t.last_name),a.createElement("td",null,t.phone),a.createElement("td",null,t.email),a.createElement("td",null,f?a.createElement("i",{onClick:function(e){return b(e.currentTarget)},className:"fas fa-ellipsis-h btn_type"}):a.createElement("div",null)),a.createElement("td",null,a.createElement(c.Z,{"aria-label":"expand row",size:"small",onClick:function(){return v(!h)}},h?a.createElement("i",{className:"fas fa-sort-up bg_themed"}):a.createElement("i",{className:"fas fa-sort-down bg_themed"})))),a.createElement("tr",null,a.createElement("td",{style:{paddingBottom:0,paddingTop:0},colSpan:12},a.createElement(s.Z,{in:h,timeout:"auto",unmountOnExit:!0},a.createElement(o.Z,{margin:1},a.createElement(i.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Retailers"),a.createElement(r.Z,{size:"small","aria-label":"purchases"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"#"),a.createElement("th",null,"Name"),a.createElement("th",null,"Email"),a.createElement("th",{align:"right"},"Phone"),a.createElement("th",{align:"right"},"city"))),a.createElement(l.Z,null,t.retailers?t.retailers.map((function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,t+1),a.createElement("td",null,e.name),a.createElement("td",null,e.email),a.createElement("td",null,e.phone),a.createElement("td",null,e.city?e.city.name:""))})):a.createElement("div",null))))))),a.createElement(u.Z,{popUpValues:_,handlePopUpClick:function(e){"Delete"==e?p(t.id):"Edit"==e&&d(t)},handlePopUp:function(e){return b(E?null:e.currentTarget)}}))}var f=n(68760),g=n(76523),h=n(15643),v=n(70601);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e){var t=e.person,n=e.show,r=e.handleModal,l=e.editSalesPerson,o=y((0,a.useState)("../static/images/add_image.png"),2),s=o[0],c=o[1],i=y((0,a.useState)(null),2),u=i[0],m=i[1],p=y((0,a.useState)(""),2),d=p[0],E=p[1],b=y((0,a.useState)(""),2),_=b[0],S=b[1],w=y((0,a.useState)(""),2),N=w[0],P=w[1],Z=y((0,a.useState)(""),2),k=Z[0],x=Z[1],C=y((0,a.useState)(0),2),j=C[0],A=C[1],M=y((0,a.useState)(null),2),I=M[0],O=M[1],R=y((0,a.useState)(""),2),B=R[0],T=R[1];return(0,a.useEffect)((function(){t&&(E(t.first_name?t.first_name:""),S(t.last_name?t.last_name:""),c(t.pic?"..".concat(t.pic):"../static/images/add_image.png"),P(t.phone?t.phone:""),x(t.email?t.email:""))}),[t]),a.createElement(f.Z,{show:n,onHide:r,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},a.createElement(f.Z.Header,{className:"card-header bg_themed",closeButton:!0},a.createElement(f.Z.Title,{id:"contained-modal-title-vcenter"},"Edit SalesPerson")),a.createElement(f.Z.Body,{className:"card-content bg_themed"},a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-12 col-md-11 col-sm-12 col-xs-12"},a.createElement("center",null,a.createElement("div",{className:"add_sales_img",onClick:function(){return j.click()}},a.createElement("img",{src:s,alt:""}),a.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);c(n),function(e){(0,h.Z)(e).then((function(e){m(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return A(e)}}))),a.createElement(g.Z,{isError:I,responseMessage:B}),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 form-group"},a.createElement("label",null,"First Name* ",a.createElement(v.Z,{message:"Input First Name"}),"  "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter first name",value:d,name:"f_name",onChange:function(e){return E(e.target.value)}})),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 form-group"},a.createElement("label",null,"Last Name* ",a.createElement(v.Z,{message:"Input last name"}),"   "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter last name",value:_,name:"l_name",onChange:function(e){return S(e.target.value)}}))),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 form-group"},a.createElement("label",null,"Phone Number*  ",a.createElement(v.Z,{message:"Add the right phone number"}),"  "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter phone number",value:N,name:"phone",onChange:function(e){return P(e.target.value)}})),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 form-group"},a.createElement("label",null,"Email Address* ",a.createElement(v.Z,{message:"Input a working email address"})," "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter email address",value:k,name:"email",onChange:function(e){return x(e.target.value)}})))))),a.createElement(f.Z.Footer,{className:"bg_themed"},a.createElement("button",{className:"btn btn-success btn-block mr-2 ml-2",onClick:function(){!function(){if(O(null),T(""),d&&_&&N&&k){var e=new FormData;e.append("first_name",d),e.append("last_name",_),e.append("phone",N),e.append("email",k),e.append("id",t.id),u&&e.append("photo",u),l(e)}else d?_?N?k?(O(!0),T("Please enter all relevant details")):(O(!0),T("Please enter email address")):(O(!0),T("Please enter phone number")):(O(!0),T("Please enter last name")):(O(!0),T("Please enter first name"))}(),r()}},"Save Sales Person")))}var _=n(32941),S=n(2376);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function P(e){var t=e.changePage,n=e.sales_people,o=e.deleteSalesPerson,s=e.editSalesPerson,c=e.canManage,i=e.fetchSalesPeople,u=e.pageDetails,m=w((0,a.useState)(!1),2),p=m[0],f=m[1],g=w((0,a.useState)(null),2),h=g[0],v=g[1],y=w((0,a.useState)(""),2),E=y[0],N=y[1],P=w((0,a.useState)(25),2),Z=P[0],k=P[1];function x(e){v(e),f(!0)}return a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},a.createElement("div",{className:"bg_themed container-fluid"},a.createElement("div",{className:"row justify-content-between align-items-center"},a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 form-group p-2"},a.createElement("div",{className:"input-group p-0 m-0"},a.createElement("input",{type:"text",className:"form-control border-right-0 m-0 p-0 ",value:E,onChange:function(e){return N(e.target.value)},onKeyUp:(0,_.Z)((function(){i(1,E||"",Z)}),2e3),placeholder:"Search"}),a.createElement("span",{className:"input-group-text border-left-0"},a.createElement("i",{className:"ml-1 fas fa-search"})))),a.createElement("div",null,c?a.createElement("div",{onClick:function(){return t(2)},className:"btn btn-primary btn-lg table_menu_btn mr-3"},"Add Sales Person"):a.createElement("div",null))),a.createElement("div",{className:"row"},a.createElement(r.Z,{"aria-label":"collapsible table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"#"),a.createElement("th",null),a.createElement("th",null,"Name"),a.createElement("th",null,"Phone"),a.createElement("th",null,"Email"),a.createElement("th",null,"Actions"),a.createElement("th",null,"Retailers"))),a.createElement(l.Z,null,n.map((function(e,t){return a.createElement(d,{index:t,key:t,person:e,deleteSalesPerson:o,viewEdit:x,canManage:c})})))),u.last_page&&u.last_page>1?a.createElement(S.Z,{rows:Z,changeRows:function(e){i(1,E,e),k(e)},pageDetails:u,changePage:function(e){i(e,E,Z)}}):a.createElement("div",null)))),a.createElement(b,{show:p,handleModal:function(){return f(!p)},person:h,editSalesPerson:s}))}n(81402);var Z=n(37703),k=n(45949),x=n(42905),C=n(8295),j=n(73288);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function I(e){var t=e.changePage,n=e.addSalesPerson,r=A((0,a.useState)("../static/images/add_image.png"),2),l=r[0],o=r[1],s=A((0,a.useState)(null),2),c=s[0],i=s[1],u=A((0,a.useState)(""),2),m=u[0],p=u[1],d=A((0,a.useState)(""),2),f=d[0],y=d[1],E=A((0,a.useState)(""),2),b=E[0],_=E[1],S=A((0,a.useState)(""),2),w=S[0],N=S[1],P=A((0,a.useState)(0),2),Z=P[0],k=P[1],x=A((0,a.useState)(null),2),C=x[0],M=x[1],I=A((0,a.useState)(""),2),O=I[0],R=I[1];return a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-12 col-md-11 col-sm-12 col-xs-12 p-2"},a.createElement("div",{className:"card"},a.createElement("div",{className:"card-header"},a.createElement("div",{className:"row justify-content-between ml-2 mr-2"},a.createElement("center",null,a.createElement("h3",null,"Add Sales Person")),a.createElement(j.Z,{prevPropsName:"Sales",propsName:"Add people",changePage:t}))),a.createElement("div",{className:"card-content"},a.createElement("center",null,a.createElement("div",{className:"add_sales_img",onClick:function(){return Z.click()}},a.createElement("img",{src:l,alt:""}),a.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);o(n),function(e){(0,h.Z)(e).then((function(e){i(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return k(e)}}))),a.createElement(g.Z,{isError:C,responseMessage:O}),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"First Name* ",a.createElement(v.Z,{message:"Input First Name"}),"   "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter first name",value:m,name:"f_name",onChange:function(e){return p(e.target.value)}}))),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Last Name* ",a.createElement(v.Z,{message:"Input last name"}),"   "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter last name",value:f,name:"l_name",onChange:function(e){return y(e.target.value)}})))),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Phone Number*  ",a.createElement(v.Z,{message:"Add the right phone number"}),"   "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter phone number",value:b,name:"phone",onChange:function(e){return _(e.target.value)}}))),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Email Address* ",a.createElement(v.Z,{message:"Input a working email address"}),"   "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter email address",value:w,name:"email",onChange:function(e){return N(e.target.value)}})))),a.createElement("div",{className:"row justify-content-end"},a.createElement("button",{className:"btn btn-success btn-lg mr-2 ml-2",onClick:function(){return function(){if(M(null),R(""),m&&f&&b&&w){var e=new FormData;e.append("first_name",m),e.append("last_name",f),e.append("phone",b),e.append("email",w),c&&e.append("photo",c),n(e)}else m?f?b?w?(M(!0),R("Please enter all relevant details")):(M(!0),R("Please enter email address")):(M(!0),R("Please enter phone number")):(M(!0),R("Please enter last name")):(M(!0),R("Please enter first name"))}()}},"Add Sales Person"))))))}var O=n(29130);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(s,e);var t,n,r,l,o=(r=s,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(l){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1},t.closeSnackBar=t.closeSnackBar.bind(L(t)),t.setResponse=t.setResponse.bind(L(t)),t.changePage=t.changePage.bind(L(t)),t}return t=s,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,a=t.message;n!==e.error?this.setResponse(n):a!==e.message&&(201==a.status&&this.setState({currentPage:1}),this.setResponse(a))}},{key:"componentDidMount",value:function(){this.props.fetchSalesPeople(1)}},{key:"changePage",value:function(e){this.setState({currentPage:e})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],n=e.responseMessage[t];n instanceof Array?this.setState({responseMessage:n[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:n,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.salesReducer,n=e.addSalesPerson,r=e.deleteSalesPerson,l=e.editSalesPerson,o=e.fetchSalesPeople,s=e.auth,c=t.isLoading,i=t.sales_people,u=t.sales_current_page,m=t.sales_last_page,p=this.state,d=p.openSnackBar,f=p.isError,g=p.responseMessage,h=p.snackPosition,v=p.currentPage,y={isError:f,responseMessage:g,openSnackBar:d,snackPosition:h};if(!s.group.permission.can_view_salesmen)return(0,O.Z)(this.props.auth.group.permission);var E={current_page:u,last_page:m};switch(v){case 1:return a.createElement("div",null,a.createElement(x.Z,{open:c}),a.createElement(P,{sales_people:i,changePage:this.changePage,deleteSalesPerson:r,editSalesPerson:l,fetchSalesPeople:o,canManage:s.group.permission.can_manage_salesmen,pageDetails:E}),a.createElement(C.Z,{values:y,closeSnackBar:this.closeSnackBar}));case 2:return a.createElement("div",null,a.createElement(x.Z,{open:c}),a.createElement(I,{changePage:this.changePage,addSalesPerson:n}),a.createElement(C.Z,{values:y,closeSnackBar:this.closeSnackBar}));default:return a.createElement("div",null,a.createElement(x.Z,{open:c}),a.createElement(P,{sales_people:i,changePage:this.changePage,deleteSalesPerson:r,editSalesPerson:l,canManage:s.group.permission.can_manage_salesmen}),a.createElement(C.Z,{values:y,closeSnackBar:this.closeSnackBar}))}}}])&&B(t.prototype,n),s}(a.Component);const F=(0,Z.$j)((function(e){return{auth:e.authReducer,salesReducer:e.salesReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchSalesPeople:k.rB,addSalesPerson:k._y,editSalesPerson:k.Wd,deleteSalesPerson:k.sr})(z)},45949:(e,t,n)=>{"use strict";n.d(t,{rB:()=>i,d8:()=>u,_y:()=>m,Wd:()=>p,sr:()=>d,ci:()=>f,XR:()=>g,g:()=>h,C$:()=>v});var a=n(9669),r=n.n(a),l=n(34464),o=n(44997),s=n(58343),c=n(66808),i=function(e,t,n){return function(a,o){a({type:c.bc});var i=(0,l.Z)(o),u="../retailer/api/saleman?page=".concat(e);t&&(u+="&query=".concat(t)),n&&(u+="&rows=".concat(n)),r().get(u,i).then((function(t){a({type:c.iN,payload:{sales_people:t.data.sales_people,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};a((0,s.x)(t)),a({type:c.Li})}))}};function u(e,t,n){var a=n.page,l=localStorage.getItem("token"),o={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(o.headers.Authorization="Token ".concat(l));var s=e?"../retailer/api/saleman?page=".concat(a,"&query=").concat(e):"../retailer/api/saleman?page=".concat(a);return new Promise((function(e,t){r().get(s,o).then((function(t){var n=!1;t.data.last_page>a&&(n=!0);var r=t.data.sales_people.map((function(e){return{value:e,label:e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.first_name}}));e({options:r,hasMore:n,additional:{page:a+1}})})).catch((function(e){t(e.response.data)}))}))}var m=function(e){return function(t,n){t({type:c.bc});var a=(0,o.Z)(n);r().post("../retailer/api/saleman/",e,a).then((function(e){t((0,s.i)(e.data,e.status)),t({type:c.es,payload:e.data}),t({type:c.SV,payload:e.data.view_complete})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:c.Li})}))}},p=function(e){return function(t,n){t({type:c.bc});var a=(0,o.Z)(n);r().put("../retailer/api/saleman/",e,a).then((function(e){t((0,s.i)(e.data,e.status)),t({type:c.mF,payload:e.data})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:c.Li})}))}},d=function(e){return function(t,n){t({type:c.bc});var a=(0,l.Z)(n);r().delete("../retailer/api/saleman?salesman_id=".concat(e),a).then((function(n){t((0,s.i)(n.data,n.status)),t({type:c.Iy,payload:e})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:c.Li})}))}},f=function(e,t,n){return function(a,o){a({type:c.bc});var i=(0,l.Z)(o),u="../retailer/api/sales_target?page=".concat(e);t&&(u+="&query=".concat(t)),n&&(u+="&rows=".concat(n)),r().get(u,i).then((function(t){console.log(t.data),a({type:c.Fl,payload:{sales_target:t.data.sales_target,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};a((0,s.x)(t)),a({type:c.Li})}))}},g=function(e){return function(t,n){t({type:c.bc});var a=(0,l.Z)(n);r().post("../retailer/api/sales_target/",e,a).then((function(e){t((0,s.i)(e.data,e.status)),t({type:c.Od,payload:e.data})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:c.Li})}))}},h=function(e){return function(t,n){t({type:c.bc});var a=(0,l.Z)(n);r().put("../retailer/api/sales_target/",e,a).then((function(e){t((0,s.i)(e.data,e.status)),t({type:c.Qc,payload:e.data})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:c.Li})}))}},v=function(e){return function(t,n){t({type:c.bc});var a=(0,l.Z)(n);r().delete("../retailer/api/sales_target?salestarget_id=".concat(e),a).then((function(n){t((0,s.i)(n.data,n.status)),t({type:c.bd,payload:e})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:c.Li})}))}}},32941:(e,t,n)=>{"use strict";function a(e,t){var n=0;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t||0)}}n.d(t,{Z:()=>a})},15643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l}),n(76770);var a=n(98005),r=n.n(a);function l(e){return new Promise((function(t,n){new(r())(e,{quality:1,success:function(e){var n=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",a=0;a<10;a++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}(),a=new File([e],"".concat(n,".png"),{type:"image/png",lastModified:(new Date).getTime()});t(a)},error:function(e){n(e)}})}))}},29130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(67294),r=n(5977);function l(e){return e.can_view_dashboard?a.createElement(r.l_,{to:"/home/dashboard"}):e.can_view_products?a.createElement(r.l_,{to:"/home/products"}):e.can_view_product_category?a.createElement(r.l_,{to:"/home/categories"}):e.can_view_orders?a.createElement(r.l_,{to:"/home/orders"}):e.can_view_salesmen?a.createElement(r.l_,{to:"/home/sales"}):e.can_view_retailer?a.createElement(r.l_,{to:"/home/retailers"}):e.can_view_deliveries?a.createElement(r.l_,{to:"/home/deliveries"}):e.can_view_offers?a.createElement(r.l_,{to:"/home/offers"}):e.can_view_users?a.createElement(r.l_,{to:"/home/groups"}):e.can_manage_mobile?a.createElement(r.l_,{to:"/home/banners"}):(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("account"),void window.location.assign("../forbidden"))}},73288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(67294),r=n(41120),l=n(22318),o=n(10770),s=n(89659),c=n(73727),i=(0,r.Z)((function(e){return{link:{display:"flex"},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));function u(e){var t=i(),n=e.propsName,r=e.changePage,u=e.prevPropsName;return a.createElement(o.Z,{"aria-label":"breadcrumb"},a.createElement(c.rU,{to:"/",style:{color:"grey"},className:t.link},"Home"),a.createElement(s.Z,{color:"initial",href:"/product",onClick:function(e){e.preventDefault(),r(1)},className:"side_nav_item"},a.createElement("span",null,u)),a.createElement(l.Z,{color:"initial",className:"side_nav_item"},n))}},2376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(67294),r=n(90482);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e){var t,n,o=e.rows,s=e.changeRows,c=e.pageDetails,i=e.changePage,u=e.customViewRows,m=c.current_page,p=c.last_page,d=(t=(0,a.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],g=d[1];function h(e){g(null!=f?null:e.currentTarget)}var v={popUpItems:u||[{name:25,value:25},{name:50,value:50},{name:100,value:100}],anchorEl:f};return a.createElement("div",{className:"container-fluid mt-3 mr-3"},a.createElement("div",{className:"row justify-content-end align-items-center bg_themed"},a.createElement("div",{className:"mr-4"},"Rows per page:"),a.createElement("div",{onClick:function(e){return h(e)},className:"bg_themed btn"},o),a.createElement("div",{onClick:function(e){return h(e)},className:"ml-1 btn"},a.createElement("i",{className:"fas fa-caret-down bg_themed"})),a.createElement("div",{className:"ml-4"},m),a.createElement("div",{className:" ml-1"},"of"),a.createElement("div",{className:" ml-1"},p),m>1?a.createElement("div",{onClick:function(){return i(m-1)},className:" ml-4 btn"},a.createElement("i",{className:"fas fa-chevron-left bg_themed"})):a.createElement("div",null),m<p?a.createElement("div",{onClick:function(){return i(m+1)},className:" ml-4 btn"},a.createElement("i",{className:"fas fa-chevron-right bg_themed"})):a.createElement("div",null)),a.createElement(r.Z,{popUpValues:v,handlePopUp:h,handlePopUpClick:function(e){s(e),h(e)}}))}},90482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(67294),r=n(14670),l=n(69584),o=n(71581),s=n(46869),c=n(95757);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=(0,r.Z)({paper:{border:"1px solid #d3d4d5"}})((function(e){return a.createElement(l.Z,i({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),m=(0,r.Z)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(o.Z);function p(e){var t=e.popUpValues,n=e.handlePopUp,r=e.handlePopUpClick,l=t.anchorEl,o=t.popUpItems;return a.createElement(u,{id:"customized-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(e){return n(e)}},o.map((function(e,t){return a.createElement(m,{key:t,onClick:function(){return r(e.value)}},e.image?a.createElement(s.Z,null,a.createElement("div",{className:"drop_down_image"},a.createElement("img",{src:"../".concat(e.image),alt:""}))):e.icon?a.createElement(s.Z,null,e.icon):a.createElement("div",null),a.createElement(c.Z,{primary:e.name}))})))}},70601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(67294),r=n(87913);function l(e){var t=e.message;return a.createElement("span",{className:"tool_tip",tabIndex:"1"},a.createElement("i",{"data-tip":null!=t?t:"",className:"fas fa-info-circle ml-2 text-primary"}),a.createElement(r.Z,{type:"success",effect:"float"}))}n(56942)},54376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(23645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".sales_round_img {\n    width: 70px;\n    height: 70px;\n    overflow: hidden;\n    border-radius: 5px;\n}\n\n.sales_round_img img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}\n\n.add_sales_img {\n    width: 80px;\n    height: 80px;\n    cursor: pointer;\n    margin-bottom: 5px;\n}\n\n.add_sales_img img {\n    height: 100%;\n    width: 100%;\n    object-fit: contain;\n}\n\n.sale_target_img {\n    height: 40px;\n    width: 40px;\n    overflow: hidden;\n    border-radius: 10px;\n}\n\n.sale_target_img img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}",""]);const l=r},81402:(e,t,n)=>{"use strict";var a=n(93379),r=n.n(a),l=n(54376);r()(l.Z,{insert:"head",singleton:!1}),l.Z.locals}}]);