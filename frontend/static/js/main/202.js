(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[202],{63202:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ke});var r=a(67294),n=a(37703),l=a(21539),c=a(41076),o=a(87748),s=a(66037),i=a(17812),u=a(22318),d=a(73272),m=a(90482),p=a(68760);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function h(e){var t,a,n=e.sendNoteMessage,l=e.show,c=e.handleModal,o=(t=(0,r.useState)(""),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(t,a)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],i=o[1];return r.createElement(p.Z,{show:l,onHide:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.createElement(p.Z.Header,{className:"card-header bg_themed",closeButton:!0},r.createElement(p.Z.Title,{id:"contained-modal-title-vcenter"},"Add Note")),r.createElement(p.Z.Body,{className:"card-content bg_themed"},r.createElement("div",{className:"form-group"},r.createElement("textarea",{type:"text",rows:"4",className:"form-control",placeholder:"Add reference note",value:s,onChange:function(e){return i(e.target.value)},autoFocus:!0}))),r.createElement(p.Z.Footer,{className:"bg_themed"},r.createElement("button",{className:"btn btn-success btn-block mr-2 ml-2",onClick:function(){n(s),i(""),c()}},"Submit Reason")))}var v=a(68134);function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _(e){var t=e.order,a=e.index,n=e.deleteRetailOrder,p=e.updateRetailerOrderStatus,f=e.dispatchOrder,E=e.viewEditOrder,b=e.canManage,_=e.viewOrderLogs,O=e.fetchRetDistOrder,w=e.viewCurrentOrder,S=e.clearRetailOrderApproved,N=e.cancelRetailOrder,P=g((0,r.useState)(!1),2),x=P[0],A=P[1],R=g((0,r.useState)(null),2),Z=R[0],M=R[1],k=g((0,r.useState)(!1),2),j=k[0],C=k[1],q=g((0,r.useState)(""),2),D=q[0],I=q[1];(0,r.useEffect)((function(){A(!1)}),[t]);var T=[{icon:r.createElement("i",{className:"fas fa-eye btn_type"}),name:"View",value:"View"},{icon:r.createElement("i",{className:"fas fa-clipboard btn_type"}),name:"Logs",value:"Logs"}];"Pending"==t.status?T=[{icon:r.createElement("i",{className:"fas fa-thumbs-up btn_type text-success"}),name:"Approve",value:"Approve"},{icon:r.createElement("i",{className:"fas fa-hand-paper btn_type"}),name:"Hold",value:"Hold"},{icon:r.createElement("i",{className:"fas fa-window-close btn_type"}),name:"Decline",value:"Decline"},{icon:r.createElement("i",{className:"fas fa-edit btn_type"}),name:"Edit",value:"Edit"},{icon:r.createElement("i",{className:"fas fa-trash btn_type"}),name:"Delete",value:"Delete"}].concat(y(T)):"On Hold"==t.status?T=[{icon:r.createElement("i",{className:"fas fa-thumbs-up btn_type"}),name:"Release",value:"Release"},{icon:r.createElement("i",{className:"fas fa-edit btn_type"}),name:"Edit",value:"Edit"},{icon:r.createElement("i",{className:"fas fa-trash btn_type"}),name:"Delete",value:"Delete"}].concat(y(T)):"Approved"==t.status?T=[{icon:r.createElement("i",{className:"fas fa-truck btn_type text-success"}),name:"Dispatch",value:"Dispatch"},{icon:r.createElement("i",{className:"fas fa-thumbs-down btn_type"}),name:"Disapprove",value:"Disapprove"},{icon:r.createElement("i",{className:"fas fa-ban btn_type"}),name:"Cancel",value:"Cancel"}].concat(y(T)):"Partial"==t.status&&(T=[{icon:r.createElement("i",{className:"fas fa-truck btn_type text-success"}),name:"Dispatch",value:"Dispatch"}].concat(y(T)));var B={anchorEl:Z,popUpItems:T};return r.createElement(r.Fragment,null,r.createElement("tr",null,r.createElement("td",null,a),r.createElement("td",null,(0,d.Z)(t.when_placed)),r.createElement("td",null,"#",t.ref_number),r.createElement("td",null,t.retailer?t.retailer.contact_name:""),r.createElement("td",null,t.salesman?t.salesman.last_name?"".concat(t.salesman.first_name," ").concat(t.salesman.last_name):t.salesman.first_name:""),r.createElement("td",{className:"row justify-content-end mr-1"},t.total_cost_currency," ",(0,v.Z)(t.total_cost)),"Pending"==t.status?r.createElement("td",null,r.createElement("span",{className:"dot"},r.createElement("i",{className:"bg-warning"}),"Pending")):"On Hold"==t.status?r.createElement("td",null,r.createElement("span",{className:"dot"},r.createElement("i",{className:"bg-warning"}),"On Hold")):"Approved"==t.status?r.createElement("td",null,r.createElement("span",{className:"dot"},r.createElement("i",{className:"bg-success"}),"Approved")):"Dispatched"==t.status?r.createElement("td",null,r.createElement("span",{className:"dot"},r.createElement("i",{className:"bg-success"}),"Dispatched")):"Partial"==t.status?r.createElement("td",null,r.createElement("span",{className:"dot"},r.createElement("i",{className:"bg-warning"}),"Partial")):"CANCELED"==t.status?r.createElement("td",null,r.createElement("span",{className:"dot"},r.createElement("i",{className:"bg-danger"}),"Cancelled")):r.createElement("td",null,r.createElement("span",{className:"dot"},r.createElement("i",{className:" bg-danger"}),"Declined")),r.createElement("td",null,r.createElement(i.Z,{"aria-label":"expand row",size:"small",onClick:function(){x?A(!1):(A(!0),O(1,t.id))}},x?r.createElement("i",{className:"fas fa-sort-up bg_themed"}):r.createElement("i",{className:"fas fa-sort-down bg_themed"}))),r.createElement("td",null,b?r.createElement("i",{onClick:function(e){return M(e.currentTarget)},className:"fas fa-ellipsis-h btn_type"}):r.createElement("div",null))),r.createElement("tr",null,r.createElement("td",{style:{paddingBottom:0,paddingTop:0},colSpan:12},r.createElement(s.Z,{in:x,timeout:"auto",unmountOnExit:!0},r.createElement(o.Z,{margin:1},r.createElement(u.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Order Details"),r.createElement(l.Z,{size:"small","aria-label":"purchases"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Name"),r.createElement("th",{className:"text-right"},"Total"),r.createElement("th",{className:"text-right"},"Quantity"),r.createElement("th",{className:"text-right"},"Free"),"Partial"==t.status?r.createElement("th",{className:"text-right"},"Delivered"):r.createElement("th",null),"Partial"==t.status?r.createElement("th",{className:"text-right"},"Remaining"):r.createElement("th",null),r.createElement("th",{className:"text-right"},"Total price"))),r.createElement(c.Z,null,t.dist_orders?t.dist_orders.map((function(e,a){return r.createElement("tr",{key:a},r.createElement("td",null,a+1),r.createElement("td",null,e.product.name),r.createElement("td",{className:"text-right"},e.free_qty?e.free_qty+e.qty:e.qty),r.createElement("td",{className:"text-right"},e.qty),r.createElement("td",{className:"text-right"},e.free_qty?e.free_qty:0),"Partial"==t.status?r.createElement("td",{className:"text-right"},e.delivered_qty):r.createElement("td",null),"Partial"==t.status?r.createElement("td",{className:"text-right"},(e.free_qty?e.free_qty+e.qty:e.qty)-e.delivered_qty):r.createElement("td",null),r.createElement("td",{className:"text-right"},e.order_price_currency," ",(0,v.Z)(e.order_price)))})):r.createElement("div",null))))))),r.createElement(m.Z,{popUpValues:B,handlePopUpClick:function(e){"Delete"==e?n(t.id):"Edit"==e?E(t):"Approve"==e?p({id:t.id,status:"Approved",note:""}):"Hold"==e?(C(!0),I("On Hold")):"Release"==e?p({id:t.id,status:"Release",note:""}):"Decline"==e?(C(!0),I("Declined")):"Logs"==e?_(t.id):"Dispatch"==e?f(t):"View"==e?w(t):"Disapprove"==e?(console.log("called here"),S({id:t.id})):"Cancel"==e&&N({id:t.id}),M(null)},handlePopUp:function(e){return M(Z?null:e.currentTarget)}}),r.createElement(h,{show:j,handleModal:function(){return C(!j)},sendNoteMessage:function(e){p({id:t.id,status:D,note:e})}}))}var O=a(1818),w=a(32941);function S(e){var t=e.fetchOrders,a=e.currentIndex,n=e.setCurrentIndex,l=e.ordersTypes;return(0,r.useEffect)((function(){n(0)}),[]),r.createElement("div",{className:"order-bar bg_themed overlay-scrollbar"},r.createElement("ul",{className:"tab-bar tab_overflow"},l.map((function(e,l){return r.createElement("li",{onClick:function(){t(1,e.status),n(l)},key:l,className:l==a?"tab wave indicator":"tab wave"},e.name)}))))}var N=a(19478);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function A(e){var t=e.order,a=e.show,n=e.handleModal,s=e.dispatchOrder,i=e.updateRetailerOrderStatus,d=P((0,r.useState)(!1),2),m=d[0],f=d[1],y=P((0,r.useState)(""),2),g=y[0],E=y[1];return r.createElement(p.Z,{show:a,onHide:n,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.createElement(p.Z.Header,{className:"card-header bg_themed",closeButton:!0},r.createElement(p.Z.Title,{id:"contained-modal-title-vcenter"},"View Order ",t?" (#".concat(t.ref_number,")"):"")),r.createElement(p.Z.Body,{className:"card-content bg_themed"},r.createElement("div",{className:"container-fluid m-2"},r.createElement("div",{className:"row "},t&&t.retailer?r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 container-fluid overflow-hidden"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},r.createElement("div",{className:"font-weight-bold"},"Retailer Name: "),r.createElement("div",{className:"font-weight-bold"},"Retailer Email: "),r.createElement("div",{className:"font-weight-bold"},"Retailer Phone: ")),r.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},r.createElement("div",null,t.retailer.contact_name),r.createElement("div",null,t.retailer.contact_email),r.createElement("div",null,t.retailer.contact_phone)))):r.createElement("div",null),t&&t.salesman?r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 container-fluid overflow-hidden"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-5 col-md-5 col-sm-5 col-xs-5"},r.createElement("div",{className:"font-weight-bold"},"SalesMan Name: "),r.createElement("div",{className:"font-weight-bold"},"SalesMan Email: "),r.createElement("div",{className:"font-weight-bold"},"Salesman Phone: ")),r.createElement("div",{className:"col-lg-7 col-md-7 col-sm-7 col-xs-7"},r.createElement("div",null,t.salesman.last_name?"".concat(t.salesman.first_name," ").concat(t.salesman.last_name):t.salesman.first_name),r.createElement("div",null,t.salesman.email),r.createElement("div",null,t.salesman.phone)))):r.createElement("div",null),t?r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 col-xs-12 container-fluid overflow-hidden"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},r.createElement("div",{className:"font-weight-bold"},"Order Status: "),r.createElement("div",{className:"font-weight-bold"},"Order Amount: "),t.price_level?r.createElement("div",{className:"font-weight-bold"},"Order Level: "):r.createElement("div",null)),r.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},r.createElement("div",null,t.status),r.createElement("div",null,"".concat(t.total_cost_currency," ").concat((0,v.Z)(t.total_cost))),t.price_level?r.createElement("div",null,t.price_level.level_name):r.createElement("div",null)))):r.createElement("div",null)),t?r.createElement("div",{className:"row justify-content-end"},"Partial"===t.status||"Approved"==t.status?r.createElement("div",{className:"btn btn-success mr-3",onClick:function(){n(),s(t)}},"Dispatch"):"Pending"==t.status?r.createElement(N.Z,null,r.createElement(N.Z.Toggle,{variant:"primary",id:"dropdown-basic"},"Actions"),r.createElement(N.Z.Menu,null,r.createElement(N.Z.Item,{onClick:function(){n(),i({id:t.id,status:"Approved",note:""})}},"Approve"),r.createElement(N.Z.Item,{onClick:function(){f(!0),E("On Hold")}},"Hold"),r.createElement(N.Z.Item,{onClick:function(){f(!0),E("Declined")}},"Decline"))):"On Hold"==t.status?r.createElement("div",{className:"btn btn-primary mr-3",onClick:function(){n(),i({id:t.id,status:"Release",note:""})}},"Release"):r.createElement("div",null)):r.createElement("div",null),t&&t.note?r.createElement("div",{className:"px-4 my-4"},r.createElement("div",{className:"row justify-content-start border-bottom"},r.createElement("h3",{className:"font-weight-bold"},"Reference Note")),r.createElement("p",{className:"mt-2"},t.note)):r.createElement("div",null),t?r.createElement(o.Z,{margin:1},r.createElement(u.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Order Details"),r.createElement(l.Z,{size:"small","aria-label":"purchases"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Name"),r.createElement("th",{align:"right"},"Total"),r.createElement("th",{align:"right"},"Quantity"),r.createElement("th",{align:"right"},"Free"),"Partial"==t.status?r.createElement("th",null,"Delivered"):r.createElement("th",null),"Partial"==t.status?r.createElement("th",null,"Remaining"):r.createElement("th",null),r.createElement("th",{align:"right"},"Total price"))),r.createElement(c.Z,null,t.ret_orders?t.ret_orders.map((function(e,a){return r.createElement("tr",{key:a},r.createElement("td",null,a+1),r.createElement("td",null,e.product.name),r.createElement("td",null,e.free_qty?e.free_qty+e.qty:e.qty),r.createElement("td",null,e.qty),r.createElement("td",null,e.free_qty?e.free_qty:0),"Partial"==t.status?r.createElement("td",null,e.delivered_qty):r.createElement("td",null),"Partial"==t.status?r.createElement("td",null,(e.free_qty?e.free_qty+e.qty:e.qty)-e.delivered_qty):r.createElement("td",null),r.createElement("td",null,e.product.price_currency," ",(0,v.Z)(e.order_price)))})):r.createElement("div",null)))):r.createElement("div",null))),r.createElement(h,{show:m,handleModal:function(){return f(!m)},sendNoteMessage:function(e){n(),i({id:t.id,status:g,note:e})}}))}var R=a(2376);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function k(e){var t=e.changePage,a=e.orders,n=e.fetchOrders,o=e.deleteRetailOrder,s=(e.deleteOrder,e.updateRetailerOrderStatus),i=e.dispatchOrder,u=(e.searchOrders,e.viewEditOrder),d=e.canManage,m=e.viewOrderLogs,p=e.fetchRetDistOrder,f=e.ret_order,h=e.fetchRetDispatchOrder,v=e.viewKey,y=e.pageDetails,g=e.clearRetailOrderApproved,E=e.cancelRetailOrder,b={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:"My Awesome CSV",useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},N=Z((0,r.useState)(""),2),P=N[0],x=N[1],M=Z((0,r.useState)(!1),2),k=M[0],j=M[1],C=Z((0,r.useState)(25),2),q=C[0],D=C[1],I=Z((0,r.useState)(0),2),T=I[0],B=I[1],L=[{name:"All",status:""},{name:"Pending",status:"Pending"},{name:"On Hold",status:"On Hold"},{name:"Approved",status:"Approved"},{name:"Partial",status:"Partial"},{name:"Dispatched",status:"Dispatched"},{name:"Declined",status:"Declined"},{name:"Cancelled",status:"CANCELED"}];function z(e){h(e.id),j(!0)}return(0,r.useEffect)((function(){B(1),n(1,L[1].status)}),[]),r.createElement("div",{className:"row justify-content-end"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-2"},r.createElement(S,{fetchOrders:n,key:v,currentIndex:T,ordersTypes:L,setCurrentIndex:function(e){return B(e)}}),r.createElement("div",{className:"bg_themed container-fluid"},r.createElement("div",{className:"row justify-content-between align-items-center"},r.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 form-group p-2"},r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control border-right-0 ",value:P,onChange:function(e){return x(e.target.value)},onKeyUp:(0,w.Z)((function(){n(1,L[T].status,q,P||"")}),2e3),placeholder:"Search"}),r.createElement("span",{className:"input-group-text border-left-0"},r.createElement("i",{className:"ml-1 fas fa-search"})))),r.createElement("div",{className:"d-flex"},d?r.createElement("div",{onClick:function(){return t(2)},className:"btn btn-primary btn-lg table_menu_btn mb-3 mr-3"},"Add Order"):r.createElement("div",null),r.createElement("div",{onClick:function(){for(var e=new O.ExportToCsv(b),t=[],r=0;r<a.length;r++){var n=a[r],l={id:n.id,retailer:n.retailer.name,salesman:n.salesman?n.salesman.last_name?"".concat(n.salesman.first_name," ").concat(n.salesman.last_name):n.salesman.first_name:"",offer:n.offers[0]?n.offers[0].detail_name:"No Offer",total:n.total_cost,status:n.status};t.push(l)}e.generateCsv(t)},className:"btn btn-success btn-lg table_menu_btn mb-3 mr-2"},"Export")),r.createElement("div",{className:"row col-lg-12 col-md-12 col-sm-12 col-xs-12"},r.createElement(l.Z,{"aria-label":"collapsible "},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Date ",r.createElement("i",{className:"fas fa-sort ml-2"})),r.createElement("th",null,"Reference No.",r.createElement("i",{className:"fas fa-sort ml-2"})),r.createElement("th",null,"Retailer"),r.createElement("th",null,"Salesman"),r.createElement("th",{className:"row justify-content-end mr-1"},r.createElement("i",{className:"fas fa-sort mr-2"}),"Total"),r.createElement("th",null,"Status"),r.createElement("th",null,"Details"),r.createElement("th",null,"Actions"))),r.createElement(c.Z,null,a.map((function(e,t){return r.createElement(_,{key:t,order:e,index:t+1,deleteRetailOrder:o,updateRetailerOrderStatus:s,dispatchOrder:i,viewEditOrder:u,canManage:d,viewOrderLogs:m,fetchRetDistOrder:p,viewCurrentOrder:z,clearRetailOrderApproved:g,cancelRetailOrder:E})})))))),y.last_page&&y.last_page>1?r.createElement(R.Z,{rows:q,changeRows:function(e){n(1,L[T].status,e,P),D(e)},pageDetails:y,changePage:function(e){n(e,L[T].status,q,P)}}):r.createElement("div",null))),r.createElement(A,{order:f,show:k,handleModal:function(){return j(!k)},dispatchOrder:i,updateRetailerOrderStatus:s}))}var j=a(17196),C=a(5186),q=a(8719),D=a(36361),I=a(45949),T=a(51446),B=a(42905),L=a(8295),z=a(76523),V=a(79860),U=a(73288),F=a(9669),H=a.n(F),Y=a(1717);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Q(e){var t=e.index,a=e.order,n=e.deleteOrder,d=e.updateOrder,m=e.level,p=X((0,r.useState)(!1),2),f=p[0],h=p[1],y=X((0,r.useState)(a.qty?a.qty:0),2),g=y[0],E=y[1],b=X((0,r.useState)(a.order_price?a.order_price:0),2),_=b[0],O=b[1],S=X((0,r.useState)(a.per_price?a.per_price:0),2),N=S[0],P=S[1],x=X((0,r.useState)(a.free_qty?a.free_qty:0),2),A=x[0],R=x[1],Z=X((0,r.useState)([]),2),M=(Z[0],Z[1]),k=X((0,r.useState)(!1),2),j=k[0],C=k[1],q=X((0,r.useState)(t),2),D=q[0],I=q[1];return(0,r.useEffect)((function(){a&&(E(a.qty?a.qty:0),R(a.free_qty?a.free_qty:0),P(a.per_price?a.per_price:0),O(a.order_price?a.order_price:0)),I(Math.random()+t)}),[a]),r.createElement(r.Fragment,{key:t},r.createElement(B.Z,{open:j}),r.createElement("tr",null,r.createElement("td",{width:"10%"},t+1),r.createElement("td",{width:"15%"},r.createElement(i.Z,{"aria-label":"expand row",size:"small",onClick:function(){return h(!f)}},f?r.createElement("i",{className:"fas fa-sort-up bg_themed"}):r.createElement("i",{className:"fas fa-sort-down bg_themed"}))),r.createElement("td",{width:"15%"},null!=a.product?a.product.name:""),r.createElement("td",{width:"15%"},r.createElement("input",{type:"number",className:"form-control",placeholder:"Please input product quantity",name:"qty",value:g,onChange:function(e){E(e.target.value)},key:D,onKeyUp:(0,w.Z)((function(e){g&&function(e,r,n){C(!0);var l=localStorage.getItem("token"),c={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(c.headers.Authorization="Token ".concat(l)),H().get("../retailer/api/priceOffer?page=".concat(e,"&product_id=").concat(r),c).then((function(e){C(!1),function(e,r){for(var n=a.product.price*e,l=[],c=parseInt(e),o=0,s=0;s<r.length;s++){var i=r[s];if(e>=i.x_amt&&(l.push(i.id),"BnXEX"==i.scheme))for(var u=Math.floor(c/parseInt(i.x_amt)),p=0;p<u;p++)o+=i.y_amt}M(l),O(n),d({id:a.id,product_id:a.product.id,retailer_id:a.retailer,qty:e,free_qty:o,order_price:n,price_offers:l,per_price:N,level:m},t),E(e)}(n,e.data.price_offers)})).catch((function(e){console.log(e),C(!1);var t={responseMessage:e.response.data,status:e.response.status};console.log(t)}))}(1,a.product.id,g)}),2e3)})),r.createElement("td",{width:"10%",className:"text-right"},A),r.createElement("td",{width:"15%",className:"text-right"},a.order_price_currency," ",null!=N?(0,v.Z)(N):""),r.createElement("td",{width:"10%",className:"text-right"},a.order_price_currency," ",(0,v.Z)(_)),r.createElement("td",{width:"10%",className:"bg_themed text-right"},r.createElement("i",{className:"fas fa-trash btn_type",onClick:function(){return n(a.id)}})),r.createElement("td",null,"  ")),r.createElement("tr",null,r.createElement("td",{style:{paddingBottom:0,paddingTop:0},colSpan:12},r.createElement(s.Z,{in:f,timeout:"auto",unmountOnExit:!0},r.createElement(o.Z,{margin:1},r.createElement(u.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Offers"),r.createElement(l.Z,{size:"small","aria-label":"purchases"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null),r.createElement("th",null,"Name"),r.createElement("th",{align:"right"},"Scheme"))),r.createElement(c.Z,null,a.price_offers.map((function(e,t){return r.createElement("tr",{key:t},r.createElement("td",null,t+1),r.createElement("td",null,r.createElement("div",{className:"offer_order_img"},r.createElement("img",{src:e.pic?"..".concat(e.pic):"../static/images/logo.svg",alt:"offer logo"}))),r.createElement("td",null,e.name),r.createElement("td",null,e.detail_name?e.detail_name:""))})))))))))}var K=a(70601);function G(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return ee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function te(e){var t=e.place_orders,a=e.deleteOrder,n=e.uploadOrder,l=e.uploadRetailOrder,c=e.products,o=e.fetchPriceOffers,s=e.offers,i=e.updateOrder,u=e.isEdit,d=e.level,m=J((0,r.useState)(""),2),p=(m[0],m[1]),f=J((0,r.useState)(1),2),h=f[0],v=f[1],y=J((0,r.useState)(0),2),g=y[0],E=y[1],b=J((0,r.useState)(0),2),_=b[0],O=b[1],S=J((0,r.useState)([]),2),N=S[0],P=S[1],x=J((0,r.useState)([]),2),A=(x[0],x[1]),R=J((0,r.useState)([]),2),Z=(R[0],R[1],J((0,r.useState)(""),2)),M=Z[0],k=Z[1],j=J((0,r.useState)(""),2),C=j[0],q=j[1],D=J((0,r.useState)([]),2),I=D[0],T=D[1],B=J((0,r.useState)([]),2),L=B[0],z=B[1],V=J((0,r.useState)(0),2),U=V[0],F=V[1],X=J((0,r.useState)(0),2),$=X[0],W=X[1],ee=J((0,r.useState)(5),2),te=ee[0],ae=ee[1];function re(e,t,a){var r=localStorage.getItem("token"),n=t.value,l={headers:{Accept:"application/json","Content-Type":"application/json"}};r&&(l.headers.Authorization="Token ".concat(r));var c="../retailer/api/view_price_offers/?page=".concat(e,"&product_id=").concat(n.id);a&&d&&(c+="&prod_qty=".concat(a,"&level_id=").concat(d)),H().get(c,l).then((function(e){!function(e,t,a,r){for(var n=t,l=r?r*e:n.price*e,c=[],o=[],s=parseInt(e),i=0,u=0;u<a.length;u++){var d=a[u];if(s>=d.x_amt&&(c.push(d),o.push(d),"BnXEX"==d.scheme))for(var m=Math.floor(s/parseInt(d.x_amt)),f=0;f<m;f++)i+=d.y_amt}P(c.map((function(e){return e.id}))),A(o),k(c[0]?{value:c[0],label:c[0].detail_name}:""),p(t.id),O(l),E(null!=r?r:n.price),F(i)}(a,n,e.data.price_offers,e.data.per_price),q(t)})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};console.log(t)}))}return(0,r.useEffect)((function(){if(t){var e=t.map((function(e){if(e.price_offers.length>0)return e.price_offers[0]})),a=t.map((function(e){return e.product}));T(e.map((function(e){if(e)return{value:e,label:e.detail_name}}))),z(a.map((function(e){return{value:e,label:e.name}})))}var r=Math.random();W(r),ae(r+5)}),[s,t,c]),r.createElement(r.Fragment,null,r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between"},r.createElement("h3",null,u?"Edit Orders":"Place Order"),u?r.createElement("div",null):r.createElement("div",{onClick:function(){return function(){for(var e=0,a=[],r=[],n=0;n<t.length;n++){var c=t[n];Array.prototype.push.apply(r,G(c.price_offers.map((function(e){return e.id})))),e+=parseFloat(c.order_price),a.push(c.id)}l(e,a,r)}()},className:"btn btn-success btn-large"},"Place Order"))),r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Offers ",r.createElement(K.Z,{message:"Order Products on Offer"})),r.createElement("th",null,"Product* ",r.createElement(K.Z,{message:"Choose a Product"})),r.createElement("th",null,"Quantity* ",r.createElement(K.Z,{message:"Enter Product Quantity"})," "),r.createElement("th",{className:"text-right"},"Free*"),r.createElement("th",{className:"text-right"},"Per Unit*"),r.createElement("th",{className:"text-right"},"Total*"),r.createElement("th",{className:"text-right"},"Actions"),r.createElement("th",null,"  "))),r.createElement("tbody",null,t?t.map((function(e,t){return r.createElement(Q,{key:t,index:t,order:e,deleteOrder:a,offers:s,fetchPriceOffers:o,updateOrder:i,level:d})})):r.createElement("div",null),r.createElement("tr",null,r.createElement("td",{width:"10%"},"#"),r.createElement("td",{width:"15%"},r.createElement(Y.n9,{loadOptions:function(e,t,a){var r=a.page,n=localStorage.getItem("token"),l={headers:{Accept:"application/json","Content-Type":"application/json"}};n&&(l.headers.Authorization="Token ".concat(n));var c=e?"../retailer/api/view_price_offers?page=".concat(r,"&query=").concat(e):"../retailer/api/view_price_offers?page=".concat(r);return new Promise((function(e,t){H().get(c,l).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n,l=t.data.price_offers.map((function(e){return{value:e,label:e.detail_name}}));n=I.length>0?l.filter((function(e){return!I.some((function(t){if(t)return t.value.id==e.value.id}))})):l,e({options:n,hasMore:a,additional:{page:r+1}})})).catch((function(e){console.log(e);var a={responseMessage:e.response.data,status:e.response.status};setIsError(!0),setResponseMessage(a.responseMessage),t(e.responseMessage)}))}))},value:M,onChange:function(e){return function(e){var t=e.value,a=t.x_item,r=t.x_amt,n=a.price*r,l=0;if("BnXEX"==t.scheme)for(var c=Math.floor(parseInt(r)/parseInt(t.x_amt)),o=0;o<c;o++)l+=t.y_amt;P([].concat(G(N),[t.id])),k(e),q({value:a,label:a.name}),O(n),E(a.price),v(r),p(a.id),F(l)}(e)},additional:{page:1},key:$,loadOptionsOnMenuOpen:!0,closeMenuOnSelect:!0})),r.createElement("td",{width:"15%"},r.createElement(Y.n9,{loadOptions:function(e,t,a){var r=a.page,n=localStorage.getItem("token"),l={headers:{Accept:"application/json","Content-Type":"application/json"}};n&&(l.headers.Authorization="Token ".concat(n));var c=e?"../retailer/api/products?page=".concat(r,"&query=").concat(e):"../retailer/api/products?page=".concat(r);return new Promise((function(e,t){H().get(c,l).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n,l=t.data.products.map((function(e){return{value:e,label:e.name}}));n=L.length>0?l.filter((function(e){return!L.some((function(t){return t.value.id==e.value.id}))})):l,e({options:n,hasMore:a,additional:{page:r+1}})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};setIsError(!0),setResponseMessage(a.responseMessage),t(e.responseMessage)}))}))},value:C,onChange:function(e){return re(1,e,h)},additional:{page:1},key:te,closeMenuOnSelect:!0})),r.createElement("td",{width:"15%"},r.createElement("div",{className:"form-label-group"},r.createElement("input",{type:"number",className:"form-control",placeholder:"Please input product quantity",name:"qty",value:h,onChange:function(e){v(e.target.value)},onKeyUp:(0,w.Z)((function(e){h&&re(1,C,h)}),2e3),required:!0}))),r.createElement("td",{width:"10%",className:"text-right"},U),r.createElement("td",{width:"15%",className:"text-right"},g),r.createElement("td",{width:"10%",className:"text-right"},_),r.createElement("td",{width:"10%",className:"text-right"},r.createElement("div",{onClick:function(){n(C.value.id,h,_,N,U,g),p(""),E(1),v(1),O(1),P([]),q(""),k(""),F(0)},className:"btn btn-primary btn-lg"},"Add")),r.createElement("td",null,"  ")))))}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ne(e){var t=e.changePage,a=e.products,n=e.fetchPlaceOrders,l=e.place_orders,c=e.addOrder,o=e.deleteOrder,s=e.offers,i=e.fetchPriceOffers,u=e.addRetailerOrder,d=e.updateOrder,m=(e.setResponse,ae((0,r.useState)(""),2)),p=m[0],f=m[1],h=ae((0,r.useState)(""),2),v=h[0],y=h[1],g=ae((0,r.useState)(""),2),E=g[0],b=g[1],_=ae((0,r.useState)(""),2),O=_[0],w=_[1],S=ae((0,r.useState)(null),2),N=S[0],P=S[1],x=ae((0,r.useState)(""),2),A=x[0],R=x[1];return r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},r.createElement("div",{className:"card"},r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between ml-2 mr-2"},r.createElement("center",null,r.createElement("h3",null,"Add Order")),r.createElement(U.Z,{prevPropsName:"Orders",propsName:"Add Order",changePage:t}))),r.createElement("div",{className:"container-fluid"},r.createElement(z.Z,{isError:N,responseMessage:A}),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Select Retailer*",r.createElement(K.Z,{message:"Choose a retailer"}),"  "),r.createElement(V.Z,{isMulti:!1,value:p,setValue:function(e){f(e),function(e){if(e.value.salesman){var t={value:e.value.salesman,label:e.value.salesman.last_name?"".concat(e.value.salesman.first_name," ").concat(e.value.salesman.last_name):e.value.salesman.first_name};y(t)}if(e.value.price_level){var a={value:e.value.price_level,label:e.value.price_level.level_name};b(a)}n(1,e.value.retailer.id)}(e)},fetchData:C.dE,closeMenuOnSelect:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Select Sales Person*",r.createElement(K.Z,{message:"Choose a salesperson"}),"  "),r.createElement(V.Z,{isMulti:!1,value:v,setValue:function(e){return y(e)},fetchData:I.d8,closeMenuOnSelect:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Select Price Level* ",r.createElement(K.Z,{message:"Choose a Price Level"})," "),r.createElement(V.Z,{isMulti:!1,value:E,setValue:function(e){return b(e)},fetchData:q.S5,closeMenuOnSelect:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Select Payment Terms* ",r.createElement(K.Z,{message:"Choose a Payment Term"})),r.createElement("select",{className:"form-control",value:O,onChange:function(e){return w(e.target.value)},required:!0},r.createElement("option",{value:""},"..."),["Cash","Mobile Money (M-pesa)","Debit Cards","Credit Cards","Cheque"].map((function(e,t){return r.createElement("option",{key:t,value:e},e)})))))),r.createElement(te,{place_orders:l,deleteOrder:o,uploadRetailOrder:function(e,t,a){P(null),R(""),p&&O&&v&&E?(console.log(v),u({retailer_id:p.value.retailer.id,salesman_id:v.value.id,total_cost:e,order_ids:t,payment_terms:O,level:E.value.id,viewOffers:a})):p?v?E?O?(P(!0),R("Please enter all fields")):(P(!0),R("Please select a payment method")):(P(!0),R("Please select a price level")):(P(!0),R("Please select a sales person")):(P(!0),R("Please select a retailer"))},products:a,offers:s,fetchPriceOffers:i,uploadOrder:function(e,t,a,r,n,l){P(null),R(""),p&&O&&t&&E&&e&&a?c({product_id:e,retailer_id:p.value.retailer.id,level:E.value.id,qty:t,order_price:a,price_offers:r,free_qty:n,per_price:l}):p?v?E?O?t?(P(!0),R("Please enter all fields")):(P(!0),R("Please input product quantity")):(P(!0),R("Please select a payment method")):(P(!0),R("Please select a price level")):(P(!0),R("Please select a sales person")):(P(!0),R("Please select a retailer"))},updateOrder:d,level:E?E.value.id:""}))))}var le=a(93379),ce=a.n(le),oe=a(56583);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ue(e){var t=e.index,a=e.order,n=e.updateQty,i=se((0,r.useState)(!1),2),d=i[0],m=(i[1],se((0,r.useState)(0),2)),p=m[0],f=m[1];return(0,r.useEffect)((function(){f(a.total_qty)}),[a]),r.createElement(r.Fragment,{key:t},r.createElement("tr",null,r.createElement("td",{width:"10%"},t+1),r.createElement("td",{width:"15%"},null!=a.product?a.product.name:""),r.createElement("td",{width:"15%"},r.createElement("input",{type:"number",className:"form-control",placeholder:"Please input product quantity",name:"qty",value:p,onChange:function(e){a.initialValue?e.target.value<=a.initialValue?f(e.target.value):f(a.initialValue):e.target.value<=a.total_qty?f(e.target.value):f(a.total_qty)},onKeyDown:(0,w.Z)((function(e){n(a.id,e.target.value)}),2e3),required:!0})),r.createElement("td",{width:"15%"},a.qty+a.free_qty),r.createElement("td",{width:"15%"},a.delivered_qty),r.createElement("td",{width:"10%"},a.qty+a.free_qty-a.delivered_qty)),r.createElement("tr",null,r.createElement("td",{style:{paddingBottom:0,paddingTop:0},colSpan:12},r.createElement(s.Z,{in:d,timeout:"auto",unmountOnExit:!0},r.createElement(o.Z,{margin:1},r.createElement(u.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Offers"),r.createElement(l.Z,{size:"small","aria-label":"purchases"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null),r.createElement("th",null,"Name"),r.createElement("th",{align:"right"},"Scheme"))),r.createElement(c.Z,null,a.price_offers.map((function(e,t){return r.createElement("tr",{key:t},r.createElement("td",null,t+1),r.createElement("td",null,r.createElement("div",{className:"offer_order_img"},r.createElement("img",{src:e.pic?"..".concat(e.pic):"../static/images/logo.svg",alt:"offer logo"}))),r.createElement("td",null,e.name),r.createElement("td",null,e.detail_name?e.detail_name:""))})))))))))}function de(e,t){if(e){if("string"==typeof e)return me(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function pe(e){var t,a,n=e.ret_orders,l=e.createDispatch,c=e.createPartialOrder,o=(t=(0,r.useState)([]),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(t,a)||de(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],i=o[1];function u(e,t){if(t){var a=s.map((function(a){var r=a;return r.id==e&&(r.initialValue||(r.initialValue=r.total_qty),r.total_qty=parseFloat(t)),r}));i(a)}}return(0,r.useEffect)((function(){var e=function(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.filter((function(e){return 0==e.delivered})));i(e)}),[n]),r.createElement(r.Fragment,null,r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between"},r.createElement("h3",null,"View Orders"),r.createElement("div",{onClick:function(){return function(){for(var e=0;e<s.length;e++){var t=s[e];if(t.initialValue&&t.initialValue!=t.total_qty)return c(s)}return l()}()},className:"btn btn-success btn-large"},"Dispatch Order"))),r.createElement("div",{className:"card-content"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Product *"),r.createElement("th",null,"Quantity to dispatch *"),r.createElement("th",null,"Total Products"),r.createElement("th",null,"Delivered Products"),r.createElement("th",null,"Remaining Products"))),r.createElement("tbody",null,s?s.map((function(e,t){return r.createElement(ue,{key:t,index:t,order:e,updateQty:u})})):r.createElement("div",null)))))}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ve(e){var t=e.changePage,a=e.order,n=e.dispatchOrder,l=e.dispatchPartialOrder,c=fe((0,r.useState)(""),2),o=c[0],s=c[1],i=fe((0,r.useState)(""),2),u=i[0],d=i[1],m=fe((0,r.useState)(""),2),p=m[0],f=m[1],h=fe((0,r.useState)(""),2),v=h[0],y=h[1],g=fe((0,r.useState)(null),2),E=g[0],b=g[1],_=fe((0,r.useState)(""),2),O=_[0],w=_[1];return r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 "},r.createElement("div",{className:"card"},r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between ml-2 mr-2"},r.createElement("center",null,r.createElement("h3",null,"Dispatch Order (Reference number #",a?a.ref_number:"",")")),r.createElement(U.Z,{prevPropsName:"Orders",propsName:"Dispatch Order",changePage:t}))),r.createElement("div",{className:"card-content"},r.createElement(z.Z,{isError:E,responseMessage:O}),r.createElement("div",{className:"card-header"},"Transport Details"),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Driver Name*"),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please input driver name",name:"name",value:o,onChange:function(e){return s(e.target.value)},required:!0,autoFocus:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Phone Number*"),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please input phone number",name:"phone",value:u,onChange:function(e){return d(e.target.value)},required:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Vehicle Plate*"),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please input plate number",name:"v_number",value:p,onChange:function(e){return f(e.target.value)},required:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Reference Note*"),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please input reference note",name:"note",value:v,onChange:function(e){return y(e.target.value)},required:!0}))),r.createElement("div",{className:"card-header"},"Retailer Details"),a&&a.retailer?r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Retailer Name*"),r.createElement("input",{type:"text",className:"form-control bg_themed",placeholder:"Please input driver name",name:"name",value:a.retailer.contact_name,disabled:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Phone Number*"),r.createElement("input",{type:"text",className:"form-control bg_themed",placeholder:"Please input phone number",name:"phone",value:a.retailer.contact_phone,disabled:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Retailer Email*"),r.createElement("input",{type:"text",className:"form-control bg_themed",placeholder:"Please input plate number",name:"v_number",value:a.retailer.contact_email,disabled:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Location"),r.createElement("input",{type:"text",className:"form-control bg_themed",name:"note",value:a.retailer.city?a.retailer.city.name:"",disabled:!0}))):r.createElement("div",null),r.createElement(pe,{ret_orders:a?a.ret_orders:[],createDispatch:function(){b(null),w(""),o&&u&&p&&v?n({order_id:a.id,vehicle_no:p,transporter_name:o,transporter_phone:u,remarks:v}):o?u?p?v?(b(!0),w("Please input all relevant fields")):(b(!0),w("Please input reference note")):(b(!0),w("Please input vehicle ")):(b(!0),w("Please input driver phone number")):(b(!0),w("Please input driver name"))},createPartialOrder:function(e){if(b(null),w(""),o&&u&&p&&v){var t=e.map((function(e){return{id:e.id,total_qty:e.total_qty}}));l({order_id:a.id,vehicle_no:p,transporter_name:o,transporter_phone:u,remarks:v,orders:JSON.stringify(t)})}else o?u?p?v?(b(!0),w("Please input all relevant fields")):(b(!0),w("Please input reference note")):(b(!0),w("Please input vehicle ")):(b(!0),w("Please input driver phone number")):(b(!0),w("Please input driver name"))}})))))}function ye(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(e){if("string"==typeof e)return be(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _e(e){var t=e.retail_order,a=e.changePage,n=e.products,l=e.retailers,c=e.fetchPlaceOrders,o=e.sales_people,s=(e.levels,e.updateAddRetailOrder),i=e.updateEditRetailOrder,u=(e.deleteOrder,e.offers),d=e.fetchPriceOffers,m=e.addRetailerOrder,p=(e.updateOrder,e.updateDeleteRetailOrder),f=e.place_orders,h=(e.setResponse,["Cash","Mobile Money (M-pesa)","Debit Cards","Credit Cards","Cheque"]),v=ge((0,r.useState)(""),2),y=v[0],g=v[1],E=ge((0,r.useState)(""),2),b=E[0],_=E[1],O=ge((0,r.useState)(""),2),w=O[0],S=O[1],N=ge((0,r.useState)(h[0]),2),P=N[0],x=N[1],A=ge((0,r.useState)(null),2),R=A[0],Z=A[1],M=ge((0,r.useState)(""),2),k=M[0],j=M[1];return(0,r.useEffect)((function(){if(t){var e={value:t.retailer,label:t.retailer.contact_name},a={value:t.salesman,label:t.salesman.last_name?"".concat(t.salesman.first_name," ").concat(t.salesman.last_name):t.salesman.first_name};if(t.price_level){var r={value:t.price_level,label:t.price_level.level_name};S(r)}g(e),_(a),x(t.payment_terms)}}),[l,o,t]),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},r.createElement("div",{className:"card"},r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between ml-2 mr-2"},r.createElement("center",null,r.createElement("h3",null,"Edit Order")),r.createElement(U.Z,{prevPropsName:"Orders",propsName:"Edit Order",changePage:a}))),r.createElement("div",{className:"container-fluid"},r.createElement(z.Z,{isError:R,responseMessage:k}),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Select Retailer* ",r.createElement(K.Z,{message:"Choose a retailer"})," "),r.createElement(V.Z,{isMulti:!1,value:y,setValue:function(e){g(e),function(e){c(1,e)}(e)},fetchData:C.dE,closeMenuOnSelect:!0,isDisabled:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12 form-group  mt-2"},r.createElement("label",null,"Select Sales Person* ",r.createElement(K.Z,{message:"Choose a salesperson"}),"  "),r.createElement(V.Z,{isMulti:!1,value:b,setValue:function(e){return _(e)},fetchData:I.d8,closeMenuOnSelect:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Select Price Level* ",r.createElement(K.Z,{message:"Choose a Price Level"})," "),r.createElement(V.Z,{isMulti:!1,value:w,setValue:function(e){return S(e)},fetchData:q.S5,closeMenuOnSelect:!0})),r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 form-group  mt-2"},r.createElement("label",null,"Select Payment Terms*",r.createElement(K.Z,{message:"Choose a Payment Term"}),"  "),r.createElement("select",{className:"form-control",value:P,onChange:function(e){return x(e.target.value)},required:!0},r.createElement("option",{value:""},"..."),h.map((function(e,t){return r.createElement("option",{key:t,value:e},e)})))))),r.createElement(te,{place_orders:f,deleteOrder:function(e){for(var a=[],r=0;r<f.length;r++){var n=f[r];n.id!=e&&Array.prototype.push.apply(a,ye(n.price_offers.map((function(e){return e.id}))))}p({order_id:e,ret_id:t.id,viewOffers:a})},uploadRetailOrder:function(e,t,a){Z(null),j(""),y&&P&&b&&w?m({retailer_id:y.value.retailer.id,salesman_id:b.value.id,total_cost:e,order_ids:t,payment_terms:P,level:w?w.value.id:"",viewOffers:a}):y?b?w?P?(Z(!0),j("Please enter all fields")):(Z(!0),j("Please select a payment method")):(Z(!0),j("Please select a price level")):(Z(!0),j("Please select a sales person")):(Z(!0),j("Please select a retailer"))},products:n,offers:u,fetchPriceOffers:d,uploadOrder:function(e,a,r,n,l,c){Z(null),j(""),y&&P&&a&&w&&e&&r&&c?s({product_id:e,retailer_id:y.value.retailer.id,salesman_id:b.value.id,qty:a,order_price:r,price_offers:n,ret_id:t.id,level:w?w.value.id:"",per_price:c,free_qty:l}):y?b?w?P?a?(Z(!0),j("Please enter all fields")):(Z(!0),j("Please input product quantity")):(Z(!0),j("Please select a payment method")):(Z(!0),j("Please select a price level")):(Z(!0),j("Please select a sales person")):(Z(!0),j("Please select a retailer"))},updateOrder:function(e){for(var a=0,r=[],n=0;n<f.length;n++){var l=f[n];l.id!=e.id&&(Array.prototype.push.apply(r,ye(l.price_offers.map((function(e){return e.id})))),a+=parseFloat(l.order_price))}Array.prototype.push.apply(r,ye(e.price_offers)),a+=parseFloat(e.order_price),i({id:e.id,product_id:e.product_id,retailer_id:e.retailer_id,qty:e.qty,order_price:e.order_price,price_offers:e.price_offers,per_price:e.per_price,ret_id:t.id,viewOffers:r,free_qty:e.free_qty,total:a,level:w?w.value.id:""})},level:w?w.value.id:"",isEdit:!0}))))}ce()(oe.Z,{insert:"head",singleton:!1}),oe.Z.locals;var Oe=a(29130),we=a(78101);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(o,e);var t,a,n,l,c=(n=o,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ze(n);if(l){var a=Ze(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return Ae(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=c.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1,viewKey:1,viewOrder:null},t.closeSnackBar=t.closeSnackBar.bind(Re(t)),t.setResponse=t.setResponse.bind(Re(t)),t.changePage=t.changePage.bind(Re(t)),t.dispatchOrder=t.dispatchOrder.bind(Re(t)),t.viewEditOrder=t.viewEditOrder.bind(Re(t)),t.viewOrderLogs=t.viewOrderLogs.bind(Re(t)),t}return t=o,(a=[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,r=t.message;a!==e.error?this.setResponse(a):r!==e.message&&(201==r.status&&this.setState({currentPage:1}),this.setResponse(r))}},{key:"componentDidMount",value:function(){this.props.clearPlaceOrderTable()}},{key:"changePage",value:function(e){2!=this.state.currentPage&&4!=this.state.currentPage||this.props.clearPlaceOrderTable(),this.setState({currentPage:e})}},{key:"viewOrderLogs",value:function(e){this.props.fetchOrderLogs(e),this.setState({currentPage:5})}},{key:"viewEditOrder",value:function(e){this.props.fetchEditRetDistOrders(1,e.id),this.setState({viewOrder:e,currentPage:4})}},{key:"dispatchOrder",value:function(e){this.props.fetchRetDispatchOrder(e.id),this.setState({currentPage:3})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],a=e.responseMessage[t];a instanceof Array?this.setState({responseMessage:a[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:a,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e,t=this.props,a=t.ordersReducer,n=t.fetchOrders,l=t.productsReducer,c=t.retailersReducer,o=t.fetchPlaceOrders,s=t.salesReducer,i=t.addOrder,u=t.deleteOrder,d=t.offersReducer,m=t.fetchPriceOffers,p=t.addRetailerOrder,f=t.deleteRetailOrder,h=t.updateRetailerOrderStatus,v=t.editRetailerOrder,y=t.updateOrder,g=t.deliveryReducer,E=t.dispatchOrder,b=t.searchOrders,_=t.auth,O=t.updateAddRetailOrder,w=t.updateEditRetailOrder,S=t.updateDeleteRetailOrder,N=t.dispatchPartialOrder,P=t.fetchRetDistOrder,x=t.fetchRetDispatchOrder,A=t.clearRetailOrderApproved,R=t.cancelRetailOrder,Z=a.orders,M=a.isLoading,j=a.place_orders,C=a.order_logs,q=a.ret_order,D=a.orders_current_page,I=a.orders_last_Page,T=this.state,z=T.openSnackBar,V=T.isError,U=T.responseMessage,F=T.snackPosition,H=T.currentPage,Y=T.viewOrder,X=T.viewKey,$={isError:V,responseMessage:U,openSnackBar:z,snackPosition:F};if(!_.group.permission.can_view_orders)return(0,Oe.Z)(this.props.auth.group.permission);var Q={current_page:D,last_page:I};switch(H){case 1:return r.createElement("div",null,r.createElement(B.Z,{open:M}),r.createElement(k,{changePage:this.changePage,orders:Z,fetchOrders:n,deleteRetailOrder:f,deleteOrder:u,updateRetailerOrderStatus:h,dispatchOrder:this.dispatchOrder,searchOrders:b,viewEditOrder:this.viewEditOrder,canManage:_.group.permission.can_manage_orders,viewOrderLogs:this.viewOrderLogs,fetchRetDistOrder:P,ret_order:q,fetchRetDispatchOrder:x,viewKey:X,pageDetails:Q,clearRetailOrderApproved:A,cancelRetailOrder:R}),r.createElement(L.Z,{values:$,closeSnackBar:this.closeSnackBar}));case 2:return r.createElement("div",null,r.createElement(B.Z,{open:M}),r.createElement(ne,{fetchPlaceOrders:o,place_orders:j,addOrder:i,changePage:this.changePage,deleteOrder:u,offers:d.offers,fetchPriceOffers:m,addRetailerOrder:p,updateOrder:y,setResponse:this.setResponse}),r.createElement(L.Z,{values:$,closeSnackBar:this.closeSnackBar}));case 3:return r.createElement("div",null,r.createElement(B.Z,{open:M||d.isLoading||g.isLoading||M}),r.createElement(ve,(Ne(e={changePage:this.changePage,dispatchOrder:this.dispatchOrder,order:q},"dispatchOrder",E),Ne(e,"dispatchPartialOrder",N),e)),r.createElement(L.Z,{values:$,closeSnackBar:this.closeSnackBar}));case 4:return r.createElement("div",null,r.createElement(B.Z,{open:M||c.isLoading||l.isLoading||s.isLoading||d.isLoading}),r.createElement(_e,{products:l.products,retailers:c.retailers,fetchPlaceOrders:o,place_orders:j,sales_people:s.sales_people,levels:l.price_levels,editRetailerOrder:v,changePage:this.changePage,deleteOrder:u,offers:d.offers,fetchPriceOffers:m,addRetailerOrder:p,updateOrder:y,retail_order:Y,updateAddRetailOrder:O,updateEditRetailOrder:w,updateDeleteRetailOrder:S,setResponse:this.setResponse}),r.createElement(L.Z,{values:$,closeSnackBar:this.closeSnackBar}));case 5:return r.createElement("div",null,r.createElement(B.Z,{open:M}),r.createElement(we.Z,{order_logs:C,changePage:this.changePage}),r.createElement(L.Z,{values:$,closeSnackBar:this.closeSnackBar}));default:return r.createElement("div",null,r.createElement(B.Z,{open:M}),r.createElement(k,{changePage:this.changePage,orders:Z,fetchOrders:n}),r.createElement(L.Z,{values:$,closeSnackBar:this.closeSnackBar}))}}}])&&Pe(t.prototype,a),o}(r.Component);const ke=(0,n.$j)((function(e){return{auth:e.authReducer,ordersReducer:e.ordersReducer,productsReducer:e.productsReducer,salesReducer:e.salesReducer,retailersReducer:e.retailersReducer,offersReducer:e.offersReducer,error:e.errorsReducer,message:e.messagesReducer,deliveryReducer:e.deliveryReducer}}),{fetchOrders:j.AU,fetchProducts:q.t2,fetchRetailers:C.Xh,fetchPlaceOrders:j.tY,fetchSalesPeople:I.rB,fetchProductPriceLevels:q.zn,addOrder:j.fS,deleteOrder:j.wH,fetchPriceOffers:T.zM,addRetailerOrder:j.Gk,deleteRetailOrder:j.M_,updateRetailerOrderStatus:j.Tt,editRetailerOrder:j.Lr,updateOrder:j.Cs,dispatchOrder:D.Gz,searchOrders:j.A9,fetchOrderLogs:j.T8,updateAddRetailOrder:j.o$,updateEditRetailOrder:j.rG,updateDeleteRetailOrder:j.bM,fetchRetailOrder:j.Qf,dispatchPartialOrder:D.Rh,fetchRetDistOrder:j.Eh,fetchEditRetDistOrders:j.bE,clearPlaceOrderTable:j.Tx,fetchRetDispatchOrder:j._1,clearRetailOrderApproved:j.f4,cancelRetailOrder:j.qy})(Me)},51446:(e,t,a)=>{"use strict";a.d(t,{zM:()=>i,ZB:()=>u,cw:()=>d,JV:()=>m,rh:()=>p});var r=a(9669),n=a.n(r),l=a(34464),c=a(44997),o=a(58343),s=a(66808),i=function(e,t,a,r){return function(c,i){c({type:s.MD});var u=(0,l.Z)(i),d="../retailer/api/priceOffer?page=".concat(e);t&&(d+="&product_id=".concat(t)),a&&(d+="&query=".concat(a)),r&&(d+="&rows=".concat(r)),n().get(d,u).then((function(t){c({type:s.tF,payload:{offers:t.data.price_offers,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};c((0,o.x)(t)),c({type:s.CX})}))}};function u(e,t,a){var r=a.page,l=localStorage.getItem("token"),c={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(c.headers.Authorization="Token ".concat(l));var o=e?"../retailer/api/priceOffer/?page=".concat(r,"&query=").concat(e):"../retailer/api/priceOffer/?page=".concat(r);return new Promise((function(e,t){n().get(o,c).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n=t.data.price_offers.map((function(e){return{value:e,label:e.name}}));e({options:n,hasMore:a,additional:{page:r+1}})})).catch((function(e){t(e.response.data)}))}))}var d=function(e){return function(t,a){t({type:s.MD});var r=(0,c.Z)(a);n().post("../retailer/api/priceOffer/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.g7,payload:e.data}),t({type:s.SV,payload:e.data.view_complete})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.CX})}))}},m=function(e){return function(t,a){t({type:s.MD});var r=(0,c.Z)(a);n().put("../retailer/api/priceOffer/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.tN,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.CX})}))}},p=function(e){return function(t,a){t({type:s.MD});var r=(0,c.Z)(a);n().delete("../retailer/api/priceOffer?offer_id=".concat(e),r).then((function(a){t((0,o.i)(a.data,a.status)),t({type:s.Bg,payload:e})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.CX})}))}}},5186:(e,t,a)=>{"use strict";a.d(t,{Xh:()=>i,dE:()=>u,jQ:()=>d,zp:()=>m,Nf:()=>p,uc:()=>f,J4:()=>h,zQ:()=>v,_F:()=>y,ri:()=>g,lU:()=>E,qL:()=>b,BO:()=>_,uB:()=>O,Ov:()=>w,vc:()=>S,Y9:()=>N,gQ:()=>P,xG:()=>x,FP:()=>A});var r=a(9669),n=a.n(r),l=a(34464),c=a(44997),o=a(58343),s=a(66808),i=function(e,t,a){return function(r,c){r({type:s.Yl});var i=(0,l.Z)(c),u="../retailer/api/retailers?page=".concat(e);t&&(u+="&query=".concat(t)),a&&(u+="&rows=".concat(a)),n().get(u,i).then((function(t){r({type:s.Ox,payload:{retailers:t.data.retailers,region_current_page:e,region_last_page:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};r((0,o.x)(t)),r({type:s.ci})}))}};function u(e,t,a){var r=a.page,l=localStorage.getItem("token"),c={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(c.headers.Authorization="Token ".concat(l));var o=e?"../retailer/api/search_retailer/?page=".concat(r,"&query=").concat(e):"../retailer/api/search_retailer/?page=".concat(r);return new Promise((function(e,t){n().get(o,c).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n=t.data.retailers.map((function(e){return{value:e,label:e.contact_name}}));e({options:n,hasMore:a,additional:{page:r+1}})})).catch((function(e){t(e.response.data)}))}))}var d=function(e){return function(t,a){t({type:s.Yl});var r=(0,c.Z)(a);n().post("../retailer/api/retailers/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.ZW,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},m=function(e){return function(t,a){t({type:s.Yl});var r=(0,c.Z)(a);n().put("../retailer/api/retailers/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.uJ,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},p=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().delete("../retailer/api/retailers?retailer_id=".concat(e),r).then((function(a){t((0,o.i)(a.data,a.status)),t({type:s.KH,payload:e})}))}},f=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().get("../retailer/api/distributionRegion?page=".concat(e),r).then((function(a){t({type:s.eQ,payload:{retailer_regions:a.data.retailer_regions,currentPage:e,lastPage:a.data.last_page}})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}};function h(e,t,a){var r=a.page,l=localStorage.getItem("token"),c={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(c.headers.Authorization="Token ".concat(l));var o=e?"../retailer/api/distributionRegion/?page=".concat(r,"&query=").concat(e):"../retailer/api/distributionRegion/?page=".concat(r);return new Promise((function(e,t){n().get(o,c).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n=t.data.retailer_regions.map((function(e){return{value:e,label:e.name}}));e({options:n,hasMore:a,additional:{page:r+1}})})).catch((function(e){t(e.response.data)}))}))}var v=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().post("../retailer/api/distributionRegion/",e,r).then((function(e){t((0,o.i)(e.data)),t({type:s.OZ,payload:e.data}),t({type:s.SV,payload:e.data.view_complete})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},y=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().put("../retailer/api/distributionRegion/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.Qv,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},g=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().delete("../retailer/api/distributionRegion/?region_id=".concat(e),r).then((function(a){t((0,o.i)(a.data,a.status)),t({type:s.JF,payload:e})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},E=function(e,t){return function(a,r){a({type:s.Yl});var c=(0,l.Z)(r),i=t?"../retailer/api/distribution_area?page=".concat(e,"&city=").concat(t):"../retailer/api/distribution_area?page=".concat(e);n().get(i,c).then((function(t){a({type:s.im,payload:{areas:t.data.areas,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};a((0,o.x)(t)),a({type:s.ci})}))}};function b(e,t,a){var r=a.page,l=a.city;console.log(l);var c=localStorage.getItem("token"),o={headers:{Accept:"application/json","Content-Type":"application/json"}};c&&(o.headers.Authorization="Token ".concat(c));var s="../retailer/api/distribution_area/?page=".concat(r);return e&&(s+="&query=".concat(e)),l&&(s+="&city=".concat(l)),new Promise((function(e,t){n().get(s,o).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n=t.data.areas.map((function(e){return{value:e,label:e.name}}));e({options:n,hasMore:a,additional:{page:r+1,city:l}})})).catch((function(e){t(e.response.data)}))}))}var _=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().post("../retailer/api/distribution_area/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.Io,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},O=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().put("../retailer/api/distribution_area/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.N3,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},w=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a);n().delete("../retailer/api/distribution_area/?area_id=".concat(e),r).then((function(a){t((0,o.i)(a.data,a.status)),t({type:s.A5,payload:e})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}},S=function(e){return function(t,a){t({type:s.Yl});var r=(0,l.Z)(a),c=e?"../retailer/api/distribution_city_api?region=".concat(e):"../retailer/api/distribution_city_api";n().get(c,r).then((function(e){t({type:s.cI,payload:e.data.cities})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.ci})}))}};function N(e,t,a){var r=a.page,l=a.region;console.log(l);var c=localStorage.getItem("token"),o={headers:{Accept:"application/json","Content-Type":"application/json"}};c&&(o.headers.Authorization="Token ".concat(c));var s="../retailer/api/distribution_city_api/?page=".concat(r);return e&&(s+="&query=".concat(e)),l&&(s+="region=".concat(l)),new Promise((function(e,t){n().get(s,o).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n=t.data.cities.map((function(e){return{value:e,label:e.name}}));e({options:n,hasMore:a,additional:{page:r+1,region:l}})})).catch((function(e){t(e.response.data)}))}))}var P=function(e,t){return function(a,r){a({type:s.Yl});var c=(0,l.Z)(r);n().post("../retailer/api/distribution_city_api/",e,c).then((function(e){a((0,o.i)(e.data,e.status)),a({type:s.nD,payload:{dist_city:e.data.dist_city,region_id:t}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};a((0,o.x)(t)),a({type:s.ci})}))}},x=function(e,t){return function(a,r){a({type:s.Yl});var c=(0,l.Z)(r);n().put("../retailer/api/distribution_city_api/",e,c).then((function(e){a((0,o.i)(e.data,e.status)),a({type:s.Gp,payload:{dist_city:e.data.dist_city,region_id:t}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};a((0,o.x)(t)),a({type:s.ci})}))}},A=function(e,t){return function(a,r){a({type:s.Yl});var c=(0,l.Z)(r);n().delete("../retailer/api/distribution_city_api/?city_id=".concat(e),c).then((function(r){a((0,o.i)(r.data,r.status)),a({type:s.wy,payload:{id:e,region_id:t}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};a((0,o.x)(t)),a({type:s.ci})}))}}},45949:(e,t,a)=>{"use strict";a.d(t,{rB:()=>i,d8:()=>u,_y:()=>d,Wd:()=>m,sr:()=>p,ci:()=>f,XR:()=>h,g:()=>v,C$:()=>y});var r=a(9669),n=a.n(r),l=a(34464),c=a(44997),o=a(58343),s=a(66808),i=function(e,t,a){return function(r,c){r({type:s.bc});var i=(0,l.Z)(c),u="../retailer/api/saleman?page=".concat(e);t&&(u+="&query=".concat(t)),a&&(u+="&rows=".concat(a)),n().get(u,i).then((function(t){r({type:s.iN,payload:{sales_people:t.data.sales_people,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};r((0,o.x)(t)),r({type:s.Li})}))}};function u(e,t,a){var r=a.page,l=localStorage.getItem("token"),c={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(c.headers.Authorization="Token ".concat(l));var o=e?"../retailer/api/saleman?page=".concat(r,"&query=").concat(e):"../retailer/api/saleman?page=".concat(r);return new Promise((function(e,t){n().get(o,c).then((function(t){var a=!1;t.data.last_page>r&&(a=!0);var n=t.data.sales_people.map((function(e){return{value:e,label:e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.first_name}}));e({options:n,hasMore:a,additional:{page:r+1}})})).catch((function(e){t(e.response.data)}))}))}var d=function(e){return function(t,a){t({type:s.bc});var r=(0,c.Z)(a);n().post("../retailer/api/saleman/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.es,payload:e.data}),t({type:s.SV,payload:e.data.view_complete})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.Li})}))}},m=function(e){return function(t,a){t({type:s.bc});var r=(0,c.Z)(a);n().put("../retailer/api/saleman/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.mF,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.Li})}))}},p=function(e){return function(t,a){t({type:s.bc});var r=(0,l.Z)(a);n().delete("../retailer/api/saleman?salesman_id=".concat(e),r).then((function(a){t((0,o.i)(a.data,a.status)),t({type:s.Iy,payload:e})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.Li})}))}},f=function(e,t,a){return function(r,c){r({type:s.bc});var i=(0,l.Z)(c),u="../retailer/api/sales_target?page=".concat(e);t&&(u+="&query=".concat(t)),a&&(u+="&rows=".concat(a)),n().get(u,i).then((function(t){console.log(t.data),r({type:s.Fl,payload:{sales_target:t.data.sales_target,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};r((0,o.x)(t)),r({type:s.Li})}))}},h=function(e){return function(t,a){t({type:s.bc});var r=(0,l.Z)(a);n().post("../retailer/api/sales_target/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.Od,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.Li})}))}},v=function(e){return function(t,a){t({type:s.bc});var r=(0,l.Z)(a);n().put("../retailer/api/sales_target/",e,r).then((function(e){t((0,o.i)(e.data,e.status)),t({type:s.Qc,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.Li})}))}},y=function(e){return function(t,a){t({type:s.bc});var r=(0,l.Z)(a);n().delete("../retailer/api/sales_target?salestarget_id=".concat(e),r).then((function(a){t((0,o.i)(a.data,a.status)),t({type:s.bd,payload:e})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,o.x)(a)),t({type:s.Li})}))}}},32941:(e,t,a)=>{"use strict";function r(e,t){var a=0;return function(){var r=this,n=arguments;clearTimeout(a),a=setTimeout((function(){e.apply(r,n)}),t||0)}}a.d(t,{Z:()=>r})},79860:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(67294),n=a(1717);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){var t=e.value,a=e.setValue,l=e.fetchData,o=e.isMulti,s=e.closeMenuOnSelect,i=e.isDisabled,u=e.isClearable,d="light",m=document.getElementsByTagName("body")[0],p={control:function(e){return c(c({},e),{},{backgroundColor:m.classList.contains(d)?"#ffffff":"#212529"})},menu:function(e){return c(c({},e),{},{backgroundColor:m.classList.contains(d)?"#ffffff":"#212529"})},option:function(e,t){var a=t.isFocused;return c(c({},e),{},{backgroundColor:m.classList.contains(d)?a?"#f1f1f1":"#ffffff":a?"#f1f1f1":"#212529"})}};return r.createElement(n.n9,{isMulti:o,isClearable:u,loadOptions:l,value:t,onChange:a,additional:{page:1},styles:p,closeMenuOnSelect:s,key:Math.random(),isDisabled:i})}},2376:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a(67294),n=a(90482);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function c(e){var t,a,c=e.rows,o=e.changeRows,s=e.pageDetails,i=e.changePage,u=e.customViewRows,d=s.current_page,m=s.last_page,p=(t=(0,r.useState)(null),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}(t,a)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],h=p[1];function v(e){h(null!=f?null:e.currentTarget)}var y={popUpItems:u||[{name:25,value:25},{name:50,value:50},{name:100,value:100}],anchorEl:f};return r.createElement("div",{className:"container-fluid mt-3 mr-3"},r.createElement("div",{className:"row justify-content-end align-items-center bg_themed"},r.createElement("div",{className:"mr-4"},"Rows per page:"),r.createElement("div",{onClick:function(e){return v(e)},className:"bg_themed btn"},c),r.createElement("div",{onClick:function(e){return v(e)},className:"ml-1 btn"},r.createElement("i",{className:"fas fa-caret-down bg_themed"})),r.createElement("div",{className:"ml-4"},d),r.createElement("div",{className:" ml-1"},"of"),r.createElement("div",{className:" ml-1"},m),d>1?r.createElement("div",{onClick:function(){return i(d-1)},className:" ml-4 btn"},r.createElement("i",{className:"fas fa-chevron-left bg_themed"})):r.createElement("div",null),d<m?r.createElement("div",{onClick:function(){return i(d+1)},className:" ml-4 btn"},r.createElement("i",{className:"fas fa-chevron-right bg_themed"})):r.createElement("div",null)),r.createElement(n.Z,{popUpValues:y,handlePopUp:v,handlePopUpClick:function(e){o(e),v(e)}}))}},70601:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(67294),n=a(87913);function l(e){var t=e.message;return r.createElement("span",{className:"tool_tip",tabIndex:"1"},r.createElement("i",{"data-tip":null!=t?t:"",className:"fas fa-info-circle ml-2 text-primary"}),r.createElement(n.Z,{type:"success",effect:"float"}))}a(56942)},56583:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(23645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,'.offer_order_img {\n    height: 40px;\n    width: 40px;\n    overflow: hidden;\n    border-radius: 10px;\n}\n\n.offer_order_img img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n}\n\n.view_select {\n    z-index: 999;\n}\n\n.order-bar .tab-bar {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    list-style-type: none;\n    -webkit-padding-start: 0;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n}\n\n.order-bar .tab {\n    /* width: 150px; */\n    padding: 15px 0;\n    overflow: hidden;\n    text-align: center;\n    -webkit-box-flex: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    cursor: pointer;\n    position: relative;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\n\n.order-bar .indicator {\n    border-bottom: 5px solid #005ecb;\n}\n\n.order-bar .cercle {\n    width: 0px;\n    height: 0px;\n    position: absolute;\n}\n\n.order-bar .light .cercle {\n    background: white;\n}\n\n.order-bar .dark .cercle {\n    background: black;\n}\n\n.order-bar .anim {\n    opacity: 0.2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    -webkit-animation: touch 1.2s ease-out;\n    animation: touch 1.2s ease-out;\n}\n\n.tab_overflow {\n    overflow-x: auto;\n}\n\n@-webkit-keyframes touch {\n    100% {\n        width: 600px;\n        height: 600px;\n        border-radius: 600px;\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        margin: -300px;\n    }\n}\n\n@keyframes touch {\n    100% {\n        width: 600px;\n        height: 600px;\n        border-radius: 600px;\n        opacity: 0;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n        margin: -300px;\n    }\n}',""]);const l=n}}]);