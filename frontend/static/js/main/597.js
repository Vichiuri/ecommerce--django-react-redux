(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[597],{66597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U});var a=n(67294),r=n(8719),l=n(15643),o=n(76523),c=n(79860),s=n(73288),i=n(70601);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function f(e){var t=e.changePage,n=e.addPriceOffer,m=u((0,a.useState)("../static/images/add_image.png"),2),f=m[0],p=m[1],d=u((0,a.useState)(null),2),g=d[0],v=d[1],E=u((0,a.useState)(""),2),h=E[0],y=E[1],b=u((0,a.useState)(""),2),_=b[0],O=b[1],S=u((0,a.useState)(""),2),N=S[0],w=S[1],P=u((0,a.useState)(""),2),x=P[0],Z=P[1],C=u((0,a.useState)(""),2),j=C[0],k=C[1],X=u((0,a.useState)(""),2),B=X[0],M=X[1],A=u((0,a.useState)(""),2),I=A[0],q=A[1],D=u((0,a.useState)(""),2),R=D[0],U=D[1],T=u((0,a.useState)(0),2),F=T[0],Y=T[1],V=u((0,a.useState)(null),2),L=V[0],Q=V[1],z=u((0,a.useState)(""),2),$=z[0],G=z[1];var J="BnXEX"==_||"BnXy%O"==_?"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group":"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group";return a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"card"},a.createElement("div",{className:"card-header"},a.createElement("div",{className:"row justify-content-between ml-2 mr-2"},a.createElement("center",null,a.createElement("h3",null,"Add Offer")),a.createElement(s.Z,{prevPropsName:"Offers",propsName:"Add Offer",changePage:t}))),a.createElement("div",{className:"card-content"},a.createElement(o.Z,{isError:L,responseMessage:$}),a.createElement("center",null,a.createElement("div",{className:"add_offers_img",onClick:function(){return F.click()}},a.createElement("img",{src:f,alt:""}),a.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);p(n),function(e){(0,l.Z)(e).then((function(e){v(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return Y(e)}}))),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Offer Name* ",a.createElement(i.Z,{message:"Input an offer name"}),"  "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter offer name",value:h,name:"name",onChange:function(e){return y(e.target.value)},required:!0,autoFocus:!0})),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Select Scheme*  ",a.createElement(i.Z,{message:"Choose a Scheme"}),"  "),a.createElement("select",{className:"form-control",value:_,onChange:function(e){O(e.target.value),"BnXYF"!=e.target.value&&N&&Z(N)},required:!0},a.createElement("option",{value:""},"..."),a.createElement("option",{value:"BnXEX"},"Buy n of X GET Extra X"),a.createElement("option",{value:"BnXYF"},"Buy n of X get Y free"),a.createElement("option",{value:"BnXy%O"},"Buy n of X get y% off")))),a.createElement("div",{className:"row justify-content-between mt-2"},a.createElement("div",{className:J},a.createElement("label",null,"Select X Item* ",a.createElement(i.Z,{message:"Choose X Item"}),"  "),a.createElement(c.Z,{isMulti:!1,value:N,setValue:function(e){"BnXEX"==_||"BnXy%O"==_?(w(e),Z(e)):w(e)},fetchData:r.RQ,closeMenuOnSelect:!0})),"BnXEX"==_||"BnXy%O"==_?a.createElement("div",null):a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Select Y Item* ",a.createElement(i.Z,{message:"Choose Y Item"})," "),a.createElement(c.Z,{isMulti:!1,value:x,setValue:function(e){Z(e)},fetchData:r.RQ,closeMenuOnSelect:!0}))),a.createElement("div",{className:"row justify-content-between mt-2"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"X Quantity* ",a.createElement(i.Z,{message:"Input X quantity"})," "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter x item quantity",value:j,name:"name",onChange:function(e){return k(e.target.value)},required:!0})),"BnXEX"==_?a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Free Quantity* ",a.createElement(i.Z,{message:"Input free quantity"})," "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter free quantity",value:B,name:"name",onChange:function(e){return M(e.target.value)},required:!0})):"BnXy%O"==_?a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Percentage Off*",a.createElement(i.Z,{message:"input % off"}),"  "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter percentage quantity",value:B,name:"name",onChange:function(e){return M(e.target.value)},required:!0})):a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Y Quantity* ",a.createElement(i.Z,{message:"input Y quantity"})," "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter y item quantity",value:B,name:"name",onChange:function(e){return M(e.target.value)},required:!0}))),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"From Date* ",a.createElement(i.Z,{message:"Choose from date"})," "),a.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter from date",value:I,name:"name",onChange:function(e){return q(e.target.value)},required:!0})),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"To Date*",a.createElement(i.Z,{message:"Choose to date"}),"   "),a.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter to date",value:R,name:"name",onChange:function(e){return U(e.target.value)},required:!0}))),a.createElement("div",{className:"row justify-content-end"},a.createElement("div",{onClick:function(){return function(){if(Q(null),G(""),h&&_&&g&&N&&R&&I){var e=new FormData;e.append("name",h),e.append("scheme",_),e.append("x_id",N.value.id),e.append("y_id",x.value.id),e.append("x_amt",j),e.append("y_amt",B),e.append("date_from",I),e.append("date_to",R),e.append("pic",g),n(e)}else h?_?g?N?R?I?(Q(!0),G("Please input all relevant info")):(Q(!0),G("Please input end date")):(Q(!0),G("Please input start date")):(Q(!0),G("Please input one product")):(Q(!0),G("Please input offer image")):(Q(!0),G("Please input scheme type")):(Q(!0),G("Please input offer name"))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Add Offer"))))))}var p=n(32941),d=n(2376),g=n(73272),v=n(90482);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e){var t,n,r=e.index,l=e.offer,o=e.deleteOffer,c=e.editOffer,s=e.canManage,i=(t=(0,a.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],m=i[1],f={anchorEl:u,popUpItems:[{icon:a.createElement("i",{className:"fas fa-edit btn_type"}),name:"Edit",value:"Edit"},{icon:a.createElement("i",{className:"fas fa-trash btn_type"}),name:"Delete",value:"Delete"}]};return a.createElement("tr",{className:"align-items-center h-25"},a.createElement("td",null,r+1),a.createElement("td",null,a.createElement("div",{className:"add_offers_img "},a.createElement("img",{src:l.pic?"..".concat(l.pic):"../static/images/logo.svg",alt:"logo"}))),a.createElement("td",null,l.name),a.createElement("td",null,l.date_from?(0,g.Z)(l.date_from):""),a.createElement("td",null," ",l.date_to?(0,g.Z)(l.date_to):""),a.createElement("td",null,a.createElement("span",{className:"dot"},a.createElement("i",{className:"bg-success"}),"Completed")),a.createElement("td",null,s?a.createElement("i",{onClick:function(e){return m(e.currentTarget)},className:"fas fa-ellipsis-h btn_type"}):a.createElement("div",null)),a.createElement(v.Z,{popUpValues:f,handlePopUpClick:function(e){"Delete"==e?o(l.id):"Edit"==e&&c(l)},handlePopUp:function(e){return m(u?null:e.currentTarget)}}))}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(e){var t=e.changePage,n=e.offers,r=e.deleteOffer,l=e.editOffer,o=e.canManage,c=e.fetchPriceOffers,s=e.pageDetails,i=y((0,a.useState)(""),2),u=i[0],m=i[1],f=y((0,a.useState)(25),2),g=f[0],v=f[1];return a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"bg_themed container-fluid"},a.createElement("div",{className:"row justify-content-between align-items-center"},a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 form-group"},a.createElement("div",{className:"input-group"},a.createElement("input",{type:"text",className:"form-control border-right-0 ",value:u,onChange:function(e){return m(e.target.value)},onKeyUp:(0,p.Z)((function(){c(1,"",u||"",g)}),2e3),placeholder:"Search"}),a.createElement("span",{className:"input-group-text border-left-0"},a.createElement("i",{className:"ml-1 fas fa-search"})))),a.createElement("div",null,o?a.createElement("div",{onClick:function(){return t(2)},className:"btn btn-primary btn-lg table_menu_btn mb-3 mr-3"},"Add Offer"):a.createElement("div",null),a.createElement("div",null)),a.createElement("div",{className:"row col-lg-12 col-md-12 col-sm-12 col-xs-12"},a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"#"),a.createElement("th",null),a.createElement("th",null,"Name"),a.createElement("th",null,"From"),a.createElement("th",null,"To"),a.createElement("th",null,"Status"),a.createElement("th",null,"Actions"))),a.createElement("tbody",null,n.map((function(e,t){return a.createElement(h,{offer:e,key:t,index:t,deleteOffer:r,editOffer:l,canManage:o})})))),s.last_page&&s.last_page>1?a.createElement(d.Z,{rows:g,changeRows:function(e){c(1,"",u,e),v(e)},pageDetails:s,changePage:function(e){c(e,"",u,g)}}):a.createElement("div",null))))))}var O=n(93379),S=n.n(O),N=n(17648);S()(N.Z,{insert:"head",singleton:!1}),N.Z.locals;var w=n(42905),P=n(37703),x=n(51446),Z=n(8295);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function k(e){var t=e.offer,n=e.updateOffers,u=e.changePage,m=C((0,a.useState)(t.pic?"..".concat(t.pic):"../static/images/add_image.png"),2),f=m[0],p=m[1],d=C((0,a.useState)(null),2),g=d[0],v=d[1],E=C((0,a.useState)(t.name?t.name:""),2),h=E[0],y=E[1],b=C((0,a.useState)(t.scheme?t.scheme:""),2),_=b[0],O=b[1],S=C((0,a.useState)(""),2),N=S[0],w=S[1],P=C((0,a.useState)(""),2),x=P[0],Z=P[1],j=C((0,a.useState)(t.x_amt?t.x_amt:""),2),k=j[0],X=j[1],B=C((0,a.useState)(t.y_amt?t.y_amt:""),2),M=B[0],A=B[1],I=C((0,a.useState)(t.date_from?t.date_from:""),2),q=I[0],D=I[1],R=C((0,a.useState)(t.date_to?t.date_to:""),2),U=R[0],T=R[1],F=C((0,a.useState)(0),2),Y=F[0],V=F[1],L=C((0,a.useState)(null),2),Q=L[0],z=L[1],$=C((0,a.useState)(""),2),G=$[0],J=$[1];(0,a.useEffect)((function(){if(t){var e={value:t.x_item,label:t.x_item.name},n={value:t.y_item,label:t.y_item.name};w(e),Z(n)}}),[t]);var H="BnXEX"==_||"BnXy%O"==_?"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group":"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group";return a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},a.createElement("div",{className:"card"},a.createElement("div",{className:"card-header"},a.createElement("div",{className:"row justify-content-between ml-2 mr-2"},a.createElement("center",null,a.createElement("h3",null,"Edit Offer")),a.createElement(s.Z,{prevPropsName:"Offers",propsName:"Add Offer",changePage:u}))),a.createElement("div",{className:"card-content"},a.createElement(o.Z,{isError:Q,responseMessage:G}),a.createElement("center",null,a.createElement("div",{className:"add_offers_img",onClick:function(){return Y.click()}},a.createElement("img",{src:f,alt:""}),a.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);p(n),function(e){(0,l.Z)(e).then((function(e){v(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return V(e)}}))),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Offer Name*  ",a.createElement(i.Z,{message:"Input an offer name"})," "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter offer name",value:h,name:"name",onChange:function(e){return y(e.target.value)},required:!0,autoFocus:!0})),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Select Scheme*  ",a.createElement(i.Z,{message:"Choose a Scheme"}),"  "),a.createElement("select",{className:"form-control",value:_,onChange:function(e){O(e.target.value),"BnXYF"!=e.target.value&&N&&Z(N)},required:!0},a.createElement("option",{value:""},"..."),a.createElement("option",{value:"BnXEX"},"Buy n of X GET Extra X"),a.createElement("option",{value:"BnXYF"},"Buy n of X get Y free"),a.createElement("option",{value:"BnXy%O"},"Buy n of X get y% off")))),a.createElement("div",{className:"row justify-content-between mt-2"},a.createElement("div",{className:H},a.createElement("label",null,"Select X Item* ",a.createElement(i.Z,{message:"Choose X Item"}),"  "),a.createElement(c.Z,{isMulti:!1,value:N,setValue:function(e){"BnXEX"==_||"BnXy%O"==_?(w(e),Z(e)):w(e)},fetchData:r.RQ,closeMenuOnSelect:!0})),"BnXEX"==_||"BnXy%O"==_?a.createElement("div",null):a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Select Y Item* ",a.createElement(i.Z,{message:"Choose Y Item"})," "),a.createElement(c.Z,{isMulti:!1,value:x,setValue:function(e){Z(e)},fetchData:r.RQ,closeMenuOnSelect:!0}))),a.createElement("div",{className:"row justify-content-between mt-2"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"X Quantity* ",a.createElement(i.Z,{message:"Input X quantity"}),"  "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter x item quantity",value:k,name:"name",onChange:function(e){return X(e.target.value)},required:!0})),"BnXEX"==_?a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Free Quantity*",a.createElement(i.Z,{message:"Input free quantity"})," "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter free quantity",value:M,name:"name",onChange:function(e){return A(e.target.value)},required:!0})):"BnXy%O"==_?a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Percentage Off* ",a.createElement(i.Z,{message:"input % off"}),"  "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter percentage quantity",value:M,name:"name",onChange:function(e){return A(e.target.value)},required:!0})):a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"Y Quantity* ",a.createElement(i.Z,{message:"input Y quantity"}),"  "),a.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter y item quantity",value:M,name:"name",onChange:function(e){return A(e.target.value)},required:!0}))),a.createElement("div",{className:"row justify-content-between"},a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"From Date* ",a.createElement(i.Z,{message:"Choose from date"}),"  "),a.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter from date",value:q,name:"name",onChange:function(e){return D(e.target.value)},required:!0})),a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},a.createElement("label",null,"To Date* ",a.createElement(i.Z,{message:"Choose to date"}),"  "),a.createElement("input",{type:"date",className:"form-control",placeholder:"Please enter to date",value:U,name:"name",onChange:function(e){return T(e.target.value)},required:!0}))),a.createElement("div",{className:"row justify-content-end"},a.createElement("div",{onClick:function(){return function(){if(z(null),J(""),h&&_&&N&&U&&q){var e=new FormData;e.append("name",h),e.append("scheme",_),e.append("x_id",N.value.id),e.append("y_id",x.value.id),e.append("x_amt",k),e.append("y_amt",M),e.append("date_from",q),e.append("date_to",U),e.append("pic",g),e.append("id",t.id),n(e)}else h?_?N?U?q?(z(!0),J("Please input all relevant info")):(z(!0),J("Please input end date")):(z(!0),J("Please input start date")):(z(!0),J("Please input one product")):(z(!0),J("Please input scheme type")):(z(!0),J("Please input offer name"))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Save Offer"))))))}var X=n(29130);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(c,e);var t,n,r,l,o=(r=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(l){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1,viewOffer:null},t.closeSnackBar=t.closeSnackBar.bind(q(t)),t.setResponse=t.setResponse.bind(q(t)),t.changePage=t.changePage.bind(q(t)),t.editOffer=t.editOffer.bind(q(t)),t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,a=t.message;n!==e.error?this.setResponse(n):a!==e.message&&(201==a.status&&this.setState({currentPage:1}),this.setResponse(a))}},{key:"componentDidMount",value:function(){this.props.fetchPriceOffers(1)}},{key:"changePage",value:function(e){this.setState({currentPage:e})}},{key:"editOffer",value:function(e){this.setState({currentPage:3,viewOffer:e})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],n=e.responseMessage[t];n instanceof Array?this.setState({responseMessage:n[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:n,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.offersReducer,n=e.addPriceOffer,r=e.deleteOffer,l=e.updateOffers,o=e.auth,c=e.fetchPriceOffers,s=t.offers,i=t.isLoading,u=t.offers_current_page,m=t.offers_last_page,p=this.state,d=p.openSnackBar,g=p.isError,v=p.responseMessage,E=p.snackPosition,h=p.currentPage,y=p.viewOffer,b={isError:g,responseMessage:v,openSnackBar:d,snackPosition:E},O={current_page:u,last_page:m};if(!o.group.permission.can_view_offers)return(0,X.Z)(this.props.auth.group.permission);switch(h){case 1:return a.createElement("div",null,a.createElement(w.Z,{open:i}),a.createElement(_,{changePage:this.changePage,offers:s,deleteOffer:r,editOffer:this.editOffer,canManage:o.group.permission.can_manage_offers,pageDetails:O,fetchPriceOffers:c}),a.createElement(Z.Z,{values:b,closeSnackBar:this.closeSnackBar}));case 2:return a.createElement("div",null,a.createElement(w.Z,{open:i}),a.createElement(f,{changePage:this.changePage,addPriceOffer:n}),a.createElement(Z.Z,{values:b,closeSnackBar:this.closeSnackBar}));case 3:return a.createElement("div",null,a.createElement(w.Z,{open:i}),a.createElement(k,{changePage:this.changePage,updateOffers:l,offer:y}),a.createElement(Z.Z,{values:b,closeSnackBar:this.closeSnackBar}));default:return a.createElement("div",null,a.createElement(w.Z,{open:i}),a.createElement(_,{changePage:this.changePage,offers:s}),a.createElement(Z.Z,{values:b,closeSnackBar:this.closeSnackBar}))}}}])&&M(t.prototype,n),c}(a.Component);const U=(0,P.$j)((function(e){return{auth:e.authReducer,offersReducer:e.offersReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchPriceOffers:x.zM,addPriceOffer:x.cw,deleteOffer:x.rh,updateOffers:x.JV})(R)},51446:(e,t,n)=>{"use strict";n.d(t,{zM:()=>i,ZB:()=>u,cw:()=>m,JV:()=>f,rh:()=>p});var a=n(9669),r=n.n(a),l=n(34464),o=n(44997),c=n(58343),s=n(66808),i=function(e,t,n,a){return function(o,i){o({type:s.MD});var u=(0,l.Z)(i),m="../retailer/api/priceOffer?page=".concat(e);t&&(m+="&product_id=".concat(t)),n&&(m+="&query=".concat(n)),a&&(m+="&rows=".concat(a)),r().get(m,u).then((function(t){o({type:s.tF,payload:{offers:t.data.price_offers,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};o((0,c.x)(t)),o({type:s.CX})}))}};function u(e,t,n){var a=n.page,l=localStorage.getItem("token"),o={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(o.headers.Authorization="Token ".concat(l));var c=e?"../retailer/api/priceOffer/?page=".concat(a,"&query=").concat(e):"../retailer/api/priceOffer/?page=".concat(a);return new Promise((function(e,t){r().get(c,o).then((function(t){var n=!1;t.data.last_page>a&&(n=!0);var r=t.data.price_offers.map((function(e){return{value:e,label:e.name}}));e({options:r,hasMore:n,additional:{page:a+1}})})).catch((function(e){t(e.response.data)}))}))}var m=function(e){return function(t,n){t({type:s.MD});var a=(0,o.Z)(n);r().post("../retailer/api/priceOffer/",e,a).then((function(e){t((0,c.i)(e.data,e.status)),t({type:s.g7,payload:e.data}),t({type:s.SV,payload:e.data.view_complete})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,c.x)(n)),t({type:s.CX})}))}},f=function(e){return function(t,n){t({type:s.MD});var a=(0,o.Z)(n);r().put("../retailer/api/priceOffer/",e,a).then((function(e){t((0,c.i)(e.data,e.status)),t({type:s.tN,payload:e.data})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,c.x)(n)),t({type:s.CX})}))}},p=function(e){return function(t,n){t({type:s.MD});var a=(0,o.Z)(n);r().delete("../retailer/api/priceOffer?offer_id=".concat(e),a).then((function(n){t((0,c.i)(n.data,n.status)),t({type:s.Bg,payload:e})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,c.x)(n)),t({type:s.CX})}))}}},32941:(e,t,n)=>{"use strict";function a(e,t){var n=0;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t||0)}}n.d(t,{Z:()=>a})},15643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l}),n(76770);var a=n(98005),r=n.n(a);function l(e){return new Promise((function(t,n){new(r())(e,{quality:1,success:function(e){var n=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",a=0;a<10;a++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}(),a=new File([e],"".concat(n,".png"),{type:"image/png",lastModified:(new Date).getTime()});t(a)},error:function(e){n(e)}})}))}},29130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(67294),r=n(5977);function l(e){return e.can_view_dashboard?a.createElement(r.l_,{to:"/home/dashboard"}):e.can_view_products?a.createElement(r.l_,{to:"/home/products"}):e.can_view_product_category?a.createElement(r.l_,{to:"/home/categories"}):e.can_view_orders?a.createElement(r.l_,{to:"/home/orders"}):e.can_view_salesmen?a.createElement(r.l_,{to:"/home/sales"}):e.can_view_retailer?a.createElement(r.l_,{to:"/home/retailers"}):e.can_view_deliveries?a.createElement(r.l_,{to:"/home/deliveries"}):e.can_view_offers?a.createElement(r.l_,{to:"/home/offers"}):e.can_view_users?a.createElement(r.l_,{to:"/home/groups"}):e.can_manage_mobile?a.createElement(r.l_,{to:"/home/banners"}):(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("account"),void window.location.assign("../forbidden"))}},79860:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(67294),r=n(1717);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.value,n=e.setValue,l=e.fetchData,c=e.isMulti,s=e.closeMenuOnSelect,i=e.isDisabled,u=e.isClearable,m="light",f=document.getElementsByTagName("body")[0],p={control:function(e){return o(o({},e),{},{backgroundColor:f.classList.contains(m)?"#ffffff":"#212529"})},menu:function(e){return o(o({},e),{},{backgroundColor:f.classList.contains(m)?"#ffffff":"#212529"})},option:function(e,t){var n=t.isFocused;return o(o({},e),{},{backgroundColor:f.classList.contains(m)?n?"#f1f1f1":"#ffffff":n?"#f1f1f1":"#212529"})}};return a.createElement(r.n9,{isMulti:c,isClearable:u,loadOptions:l,value:t,onChange:n,additional:{page:1},styles:p,closeMenuOnSelect:s,key:Math.random(),isDisabled:i})}},73288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(67294),r=n(41120),l=n(22318),o=n(10770),c=n(89659),s=n(73727),i=(0,r.Z)((function(e){return{link:{display:"flex"},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));function u(e){var t=i(),n=e.propsName,r=e.changePage,u=e.prevPropsName;return a.createElement(o.Z,{"aria-label":"breadcrumb"},a.createElement(s.rU,{to:"/",style:{color:"grey"},className:t.link},"Home"),a.createElement(c.Z,{color:"initial",href:"/product",onClick:function(e){e.preventDefault(),r(1)},className:"side_nav_item"},a.createElement("span",null,u)),a.createElement(l.Z,{color:"initial",className:"side_nav_item"},n))}},2376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(67294),r=n(90482);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e){var t,n,o=e.rows,c=e.changeRows,s=e.pageDetails,i=e.changePage,u=e.customViewRows,m=s.current_page,f=s.last_page,p=(t=(0,a.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=p[0],g=p[1];function v(e){g(null!=d?null:e.currentTarget)}var E={popUpItems:u||[{name:25,value:25},{name:50,value:50},{name:100,value:100}],anchorEl:d};return a.createElement("div",{className:"container-fluid mt-3 mr-3"},a.createElement("div",{className:"row justify-content-end align-items-center bg_themed"},a.createElement("div",{className:"mr-4"},"Rows per page:"),a.createElement("div",{onClick:function(e){return v(e)},className:"bg_themed btn"},o),a.createElement("div",{onClick:function(e){return v(e)},className:"ml-1 btn"},a.createElement("i",{className:"fas fa-caret-down bg_themed"})),a.createElement("div",{className:"ml-4"},m),a.createElement("div",{className:" ml-1"},"of"),a.createElement("div",{className:" ml-1"},f),m>1?a.createElement("div",{onClick:function(){return i(m-1)},className:" ml-4 btn"},a.createElement("i",{className:"fas fa-chevron-left bg_themed"})):a.createElement("div",null),m<f?a.createElement("div",{onClick:function(){return i(m+1)},className:" ml-4 btn"},a.createElement("i",{className:"fas fa-chevron-right bg_themed"})):a.createElement("div",null)),a.createElement(r.Z,{popUpValues:E,handlePopUp:v,handlePopUpClick:function(e){c(e),v(e)}}))}},90482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(67294),r=n(14670),l=n(69584),o=n(71581),c=n(46869),s=n(95757);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=(0,r.Z)({paper:{border:"1px solid #d3d4d5"}})((function(e){return a.createElement(l.Z,i({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),m=(0,r.Z)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(o.Z);function f(e){var t=e.popUpValues,n=e.handlePopUp,r=e.handlePopUpClick,l=t.anchorEl,o=t.popUpItems;return a.createElement(u,{id:"customized-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(e){return n(e)}},o.map((function(e,t){return a.createElement(m,{key:t,onClick:function(){return r(e.value)}},e.image?a.createElement(c.Z,null,a.createElement("div",{className:"drop_down_image"},a.createElement("img",{src:"../".concat(e.image),alt:""}))):e.icon?a.createElement(c.Z,null,e.icon):a.createElement("div",null),a.createElement(s.Z,{primary:e.name}))})))}},70601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(67294),r=n(87913);function l(e){var t=e.message;return a.createElement("span",{className:"tool_tip",tabIndex:"1"},a.createElement("i",{"data-tip":null!=t?t:"",className:"fas fa-info-circle ml-2 text-primary"}),a.createElement(r.Z,{type:"success",effect:"float"}))}n(56942)},17648:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(23645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".add_offers_img {\n    height: 70px;\n    width: 70px;\n    cursor: pointer;\n    margin-bottom: 5px;\n}\n\n.add_offers_img img {\n    max-height: 100%;\n    max-width: 100%;\n    object-fit: contain;\n}",""]);const l=r}}]);