(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[336],{45336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var r=n(67294),a=n(37703),o=n(9669),c=n.n(o),s=n(34464),l=n(44997),i=n(58343),u=n(66808),f=n(8719),d=n(51446),m=n(29130),p=n(8295),g=n(42905),h=n(93379),v=n.n(h),b=n(29999);v()(b.Z,{insert:"head",singleton:!1}),b.Z.locals;var y=n(68760),E=n(15643),_=n(76523),w=n(70601);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.show,n=e.handleModal,a=e.updateBanner,o=e.banner,c=e.products,s=e.offers,l=e.fetchProducts,i=e.fetchPriceOffers,u=S((0,r.useState)(""),2),f=u[0],d=u[1],m=S((0,r.useState)(""),2),p=m[0],g=m[1],h=S((0,r.useState)(null),2),v=h[0],b=h[1],P=S((0,r.useState)("../static/images/add_image.png"),2),x=P[0],B=P[1],N=S((0,r.useState)("Banner"),2),O=N[0],k=N[1],Z=S((0,r.useState)(""),2),M=Z[0],j=Z[1],C=S((0,r.useState)(""),2),R=C[0],A=C[1],I=S((0,r.useState)(0),2),D=I[0],q=I[1],T=S((0,r.useState)(null),2),U=T[0],F=T[1],z=S((0,r.useState)(""),2),L=z[0],V=z[1];return(0,r.useEffect)((function(){o&&(d(o.name),g(o.text?o.text:""),B(o.pic?o.pic:"../static/images/add_image.png"),k(o.status?o.status:"Banner"),j(o.product?o.product.id:""),A(o.offer?o.offer.id:""),o.product?l(1):o.offer&&i(1))}),[o]),r.createElement(y.Z,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.createElement(y.Z.Header,{className:"card-header bg_themed",closeButton:!0},r.createElement(y.Z.Title,{id:"contained-modal-title-vcenter"},"Edit Banner")),r.createElement(y.Z.Body,{className:"card-content bg_themed"},r.createElement(_.Z,{isError:U,responseMessage:L}),r.createElement("center",null,r.createElement("div",{className:"add_banner_img",onClick:function(){return D.click()}},r.createElement("img",{src:x,alt:""}),r.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);B(n),function(e){(0,E.Z)(e).then((function(e){b(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return q(e)}}))),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{class:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Banner Name* ",r.createElement(w.Z,{message:"Input banner name"}),"  "),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter banner name",value:f,name:"name",onChange:function(e){return d(e.target.value)},required:!0,autoFocus:!0})),r.createElement("div",{class:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Banner type*  ",r.createElement(w.Z,{message:"Choose a banner type"}),"  "),r.createElement("select",{className:"form-control",value:O,onChange:function(e){k(e.target.value),"Product"==e.target.value?(A(""),l(1)):"Offer"==e.target.value?(j(""),i(1)):(A(""),j(""))},required:!0},["Banner","Product","Offer"].map((function(e,t){return r.createElement("option",{key:t,value:e},e)}))))),r.createElement("div",{className:"row justify-content-between"},"Product"==O?r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Select Product* ",r.createElement(w.Z,{message:"Choose a product"})," "),r.createElement("select",{className:"form-control",value:M,onChange:function(e){return j(e.target.value)},required:!0},r.createElement("option",{value:""},"..."),c.map((function(e,t){return r.createElement("option",{key:t,value:e.id},e.name)})))):"Offer"==O?r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Select Offer*  ",r.createElement(w.Z,{message:"Choose an Offer"}),"  "),r.createElement("select",{className:"form-control",value:R,onChange:function(e){return A(e.target.value)},required:!0},r.createElement("option",{value:""},"..."),s.map((function(e,t){return r.createElement("option",{key:t,value:e.id},e.detail_name)})))):r.createElement("div",null)),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Add Offer Description* ",r.createElement(w.Z,{message:"Input Description"}),"  "),r.createElement("textarea",{type:"text",rows:"4",className:"form-control",placeholder:"Add banner description",value:p,onChange:function(e){return g(e.target.value)},required:!0})))),r.createElement(y.Z.Footer,{className:"bg_themed"},r.createElement("button",{className:"btn btn-success btn-block mr-2 ml-2",onClick:function(){return function(){if(F(null),V(""),f&&p)if("Product"!=O||M)if("Offer"!=O||R){var e=new FormData;e.append("name",f),e.append("text",p),e.append("photo",v),e.append("offer_id",R),e.append("product_id",M),e.append("status",O),e.append("id",o.id),a(e),n()}else F(!0),V("Please select banner offer");else F(!0),V("Please select banner product");else f?p||(F(!0),V("Please enter banner description")):(F(!0),V("Please enter banner name"))}()}},"Edit Banner")))}function B(e){var t=e.banner,n=e.deleteBanner,a=e.editBanner;return r.createElement("div",null,r.createElement("div",{className:"card"},r.createElement("div",{className:"banner_img"},r.createElement("img",{src:t.pic?"..".concat(t.pic):"../static/images/add_image.png",alt:"Card image cap"}),r.createElement("div",{className:"delete_btn",onClick:function(){return n(t.id)}},"x")),r.createElement("div",{className:"card-header"},r.createElement("div",{className:"row justify-content-between align-items-center"},r.createElement("h6",{className:"font-weight-bold mt-2"},t.name),r.createElement("i",{onClick:function(){return a(t)},className:"fas fa-edit"}))),r.createElement("div",{className:"card-body p-4"},r.createElement("p",null,t.text?t.text:""))))}var N=n(7110);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t=e.show,n=e.handleModal,a=e.addBanner,o=e.products,c=e.offers,s=e.fetchProducts,l=e.fetchPriceOffers,i=O((0,r.useState)(""),2),u=i[0],f=i[1],d=O((0,r.useState)(""),2),m=d[0],p=d[1],g=O((0,r.useState)(null),2),h=g[0],v=g[1],b=O((0,r.useState)("../static/images/add_image.png"),2),S=b[0],P=b[1],x=O((0,r.useState)("Banner"),2),B=x[0],N=x[1],k=O((0,r.useState)(""),2),Z=k[0],M=k[1],j=O((0,r.useState)(""),2),C=j[0],R=j[1],A=O((0,r.useState)(0),2),I=A[0],D=A[1],q=O((0,r.useState)(null),2),T=q[0],U=q[1],F=O((0,r.useState)(""),2),z=F[0],L=F[1];return r.createElement(y.Z,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.createElement(y.Z.Header,{className:"card-header bg_themed",closeButton:!0},r.createElement(y.Z.Title,{id:"contained-modal-title-vcenter"},"Add Banner")),r.createElement(y.Z.Body,{className:"card-content bg_themed"},r.createElement(_.Z,{isError:T,responseMessage:z}),r.createElement("center",null,r.createElement("div",{className:"add_banner_img",onClick:function(){return I.click()}},r.createElement("img",{src:S,alt:""}),r.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);P(n),function(e){(0,E.Z)(e).then((function(e){console.log(e),v(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return D(e)}}))),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{class:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Banner Name*  ",r.createElement(w.Z,{message:"Input bannername"}),"  "),r.createElement("input",{type:"text",className:"form-control",placeholder:"Please enter banner name",value:u,name:"name",onChange:function(e){return f(e.target.value)},required:!0,autoFocus:!0})),r.createElement("div",{class:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Banner type*  ",r.createElement(w.Z,{message:"Choose a banner type"}),"  "),r.createElement("select",{className:"form-control",value:B,onChange:function(e){N(e.target.value),"Product"==e.target.value?(R(""),s(1)):"Offer"==e.target.value?(M(""),l(1)):(R(""),M(""))},required:!0},["Banner","Product","Offer"].map((function(e,t){return r.createElement("option",{key:t,value:e},e)}))))),r.createElement("div",{className:"row justify-content-between"},"Product"==B?r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Select Product*",r.createElement(w.Z,{message:"Choose a product"})," "),r.createElement("select",{className:"form-control",value:Z,onChange:function(e){return M(e.target.value)},required:!0},r.createElement("option",{value:""},"..."),o.map((function(e,t){return r.createElement("option",{key:t,value:e.id},e.name)})))):"Offer"==B?r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Select Offer*  "),r.createElement(w.Z,{message:"Choose an Offer"}),r.createElement("select",{className:"form-control",value:C,onChange:function(e){return R(e.target.value)},required:!0},r.createElement("option",{value:""},"..."),c.map((function(e,t){return r.createElement("option",{key:t,value:e.id},e.detail_name)})))):r.createElement("div",null)),r.createElement("div",{className:"row justify-content-between"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},r.createElement("label",null,"Add Offer Description*  ",r.createElement(w.Z,{message:"Input Description"}),"  "),r.createElement("textarea",{type:"text",rows:"4",className:"form-control",placeholder:"Add banner description",value:m,onChange:function(e){return p(e.target.value)},required:!0})))),r.createElement(y.Z.Footer,{className:"bg_themed"},r.createElement("button",{className:"btn btn-success btn-block mr-2 ml-2",onClick:function(){return function(){if(U(null),L(""),u&&m&&h&&B)if("Product"!=B||Z)if("Offer"!=B||C){var e=new FormData;e.append("name",u),e.append("text",m),e.append("photo",h),e.append("offer_id",C),e.append("product_id",Z),e.append("status",B),a(e),v(null),P("../static/images/add_image.png"),f(""),p(""),M(""),R(""),N("Banner"),n()}else U(!0),L("Please select banner offer");else U(!0),L("Please select banner product");else B?u?m?h||(U(!0),L("Please enter banner image")):(U(!0),L("Please enter banner description")):(U(!0),L("Please enter banner name")):(U(!0),L("Please select banner type"))}()}},"Add Banner")))}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.banners,n=e.deleteBanner,a=e.updateBanner,o=e.products,c=e.offers,s=e.fetchProducts,l=e.fetchPriceOffers,i=e.addBanner,u=e.updateBannerPosition,f=j((0,r.useState)(!1),2),d=f[0],m=f[1],p=j((0,r.useState)(!1),2),g=p[0],h=p[1],v=j((0,r.useState)(null),2),b=v[0],y=v[1],E=j((0,r.useState)([]),2),_=E[0],w=E[1];function S(e){y(e),m(!0)}return(0,r.useEffect)((function(){w(t)}),[t]),r.createElement("div",{className:"row justify-content-between mt-2"},r.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},r.createElement("div",{className:"d-flex justify-content-end"},r.createElement("div",{className:"btn btn-primary",onClick:function(){return h(!0)}},"Add Banner")),r.createElement("div",null,r.createElement(N.Z5,{onDragEnd:function(e){if(e.destination){u({initial:_[e.source.index].position,final:_[e.destination.index].position});var t=function(e,t,n){var r=Array.from(e),a=j(r.splice(t,1),1)[0];return r.splice(n,0,a),r}(_,e.source.index,e.destination.index);w(t)}}},r.createElement(N.bK,{droppableId:"Droppable"},(function(e,t){return r.createElement("div",M({className:"container-fluid",ref:e.innerRef},e.droppableProps),r.createElement("div",{className:"row"},_.map((function(e,t){return r.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12"},r.createElement(N._l,{key:t,draggableId:"".concat(t),index:t},(function(t,a){return r.createElement("div",M({ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.createElement(B,{banner:e,deleteBanner:n,editBanner:S}))})))})),e.placeholder))}))))),r.createElement(Z,{show:g,handleModal:function(){return h(!g)},addBanner:i,products:o,offers:c,fetchProducts:s,fetchPriceOffers:l}),r.createElement(x,{show:d,handleModal:function(){return m(!d)},updateBanner:a,banner:b,products:o,offers:c,fetchProducts:s,fetchPriceOffers:l}))}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(s,e);var t,n,a,o,c=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(a);if(o){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1},t.closeSnackBar=t.closeSnackBar.bind(T(t)),t.setResponse=t.setResponse.bind(T(t)),t.changePage=t.changePage.bind(T(t)),t}return t=s,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,r=t.message;n!==e.error?this.setResponse(n):r!==e.message&&(201==r.status&&this.setState({currentPage:1}),this.setResponse(r))}},{key:"componentDidMount",value:function(){this.props.fetchBanners()}},{key:"changePage",value:function(e){2==e&&(this.props.fetchCategories(),this.props.fetchProductUnits()),this.setState({currentPage:e})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],n=e.responseMessage[t];n instanceof Array?this.setState({responseMessage:n[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:n,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.bannersReducer,n=e.addBanner,a=e.deleteBanner,o=e.updateBanner,c=e.auth,s=e.offersReducer,l=e.productsReducer,i=e.fetchProducts,u=e.fetchPriceOffers,f=e.updateBannerPosition,d=t.banners,h=t.isLoading,v=this.state,b=v.openSnackBar,y={isError:v.isError,responseMessage:v.responseMessage,openSnackBar:b,snackPosition:v.snackPosition};return c.group.permission.can_manage_mobile?r.createElement("div",null,r.createElement(g.Z,{open:h||s.isLoading||l.isLoading}),r.createElement(R,{banners:d,deleteBanner:a,updateBanner:o,addBanner:n,products:l.products,offers:s.offers,fetchProducts:i,fetchPriceOffers:u,updateBannerPosition:f}),r.createElement(p.Z,{values:y,closeSnackBar:this.closeSnackBar})):(0,m.Z)(this.props.auth.group.permission)}}])&&I(t.prototype,n),s}(r.Component);const z=(0,a.$j)((function(e){return{auth:e.authReducer,bannersReducer:e.bannersReducer,productsReducer:e.productsReducer,offersReducer:e.offersReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchBanners:function(){return function(e,t){e({type:u.VR});var n=(0,s.Z)(t);c().get("../retailer/api/dist_banners",n).then((function(t){e({type:u.iv,payload:t.data})})).catch((function(t){var n={responseMessage:t.response.data,status:t.response.status};e((0,i.x)(n)),e({type:u.M6})}))}},addBanner:function(e){return function(t,n){t({type:u.VR});var r=(0,l.Z)(n);c().post("../retailer/api/dist_banners/",e,r).then((function(e){t((0,i.i)(e.data,e.status)),t({type:u.lw,payload:e.data})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,i.x)(n)),t({type:u.M6})}))}},updateBanner:function(e){return function(t,n){t({type:u.VR});var r=(0,l.Z)(n);c().put("../retailer/api/dist_banners/",e,r).then((function(e){t((0,i.i)(e.data,e.status)),t({type:u.mh,payload:e.data})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,i.x)(n)),t({type:u.M6})}))}},deleteBanner:function(e){return function(t,n){t({type:u.VR});var r=(0,s.Z)(n);c().delete("../retailer/api/dist_banners/?banner_id=".concat(e),r).then((function(n){t((0,i.i)(n.data,n.status)),t({type:u.Ul,payload:e})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,i.x)(n)),t({type:u.M6})}))}},fetchProducts:f.t2,fetchPriceOffers:d.zM,updateBannerPosition:function(e){return function(t,n){t({type:u.VR});var r=(0,s.Z)(n);c().patch("../retailer/api/dist_banners/",e,r).then((function(e){t((0,i.i)(e.data)),t({type:u.rX})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,i.x)(n)),t({type:u.M6})}))}}})(F)},51446:(e,t,n)=>{"use strict";n.d(t,{zM:()=>i,ZB:()=>u,cw:()=>f,JV:()=>d,rh:()=>m});var r=n(9669),a=n.n(r),o=n(34464),c=n(44997),s=n(58343),l=n(66808),i=function(e,t,n,r){return function(c,i){c({type:l.MD});var u=(0,o.Z)(i),f="../retailer/api/priceOffer?page=".concat(e);t&&(f+="&product_id=".concat(t)),n&&(f+="&query=".concat(n)),r&&(f+="&rows=".concat(r)),a().get(f,u).then((function(t){c({type:l.tF,payload:{offers:t.data.price_offers,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};c((0,s.x)(t)),c({type:l.CX})}))}};function u(e,t,n){var r=n.page,o=localStorage.getItem("token"),c={headers:{Accept:"application/json","Content-Type":"application/json"}};o&&(c.headers.Authorization="Token ".concat(o));var s=e?"../retailer/api/priceOffer/?page=".concat(r,"&query=").concat(e):"../retailer/api/priceOffer/?page=".concat(r);return new Promise((function(e,t){a().get(s,c).then((function(t){var n=!1;t.data.last_page>r&&(n=!0);var a=t.data.price_offers.map((function(e){return{value:e,label:e.name}}));e({options:a,hasMore:n,additional:{page:r+1}})})).catch((function(e){t(e.response.data)}))}))}var f=function(e){return function(t,n){t({type:l.MD});var r=(0,c.Z)(n);a().post("../retailer/api/priceOffer/",e,r).then((function(e){t((0,s.i)(e.data,e.status)),t({type:l.g7,payload:e.data}),t({type:l.SV,payload:e.data.view_complete})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:l.CX})}))}},d=function(e){return function(t,n){t({type:l.MD});var r=(0,c.Z)(n);a().put("../retailer/api/priceOffer/",e,r).then((function(e){t((0,s.i)(e.data,e.status)),t({type:l.tN,payload:e.data})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:l.CX})}))}},m=function(e){return function(t,n){t({type:l.MD});var r=(0,c.Z)(n);a().delete("../retailer/api/priceOffer?offer_id=".concat(e),r).then((function(n){t((0,s.i)(n.data,n.status)),t({type:l.Bg,payload:e})})).catch((function(e){var n={responseMessage:e.response.data,status:e.response.status};t((0,s.x)(n)),t({type:l.CX})}))}}},15643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(76770);var r=n(98005),a=n.n(r);function o(e){return new Promise((function(t,n){new(a())(e,{quality:1,success:function(e){var n=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<10;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}(),r=new File([e],"".concat(n,".png"),{type:"image/png",lastModified:(new Date).getTime()});t(r)},error:function(e){n(e)}})}))}},29130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),a=n(5977);function o(e){return e.can_view_dashboard?r.createElement(a.l_,{to:"/home/dashboard"}):e.can_view_products?r.createElement(a.l_,{to:"/home/products"}):e.can_view_product_category?r.createElement(a.l_,{to:"/home/categories"}):e.can_view_orders?r.createElement(a.l_,{to:"/home/orders"}):e.can_view_salesmen?r.createElement(a.l_,{to:"/home/sales"}):e.can_view_retailer?r.createElement(a.l_,{to:"/home/retailers"}):e.can_view_deliveries?r.createElement(a.l_,{to:"/home/deliveries"}):e.can_view_offers?r.createElement(a.l_,{to:"/home/offers"}):e.can_view_users?r.createElement(a.l_,{to:"/home/groups"}):e.can_manage_mobile?r.createElement(a.l_,{to:"/home/banners"}):(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("account"),void window.location.assign("../forbidden"))}},70601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),a=n(87913);function o(e){var t=e.message;return r.createElement("span",{className:"tool_tip",tabIndex:"1"},r.createElement("i",{"data-tip":null!=t?t:"",className:"fas fa-info-circle ml-2 text-primary"}),r.createElement(a.Z,{type:"success",effect:"float"}))}n(56942)},29999:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(23645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".banner_img {\n    height: 200px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n}\n\n.banner_img img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n    object-position: center;\n}\n\n.banner_img .delete_btn {\n    /* float: right; */\n    cursor: pointer;\n    background-color: #e74c3c;\n    border: 0;\n    color: #fff;\n    font-size: 30px;\n    line-height: 20px;\n    padding: 2px 5px;\n    transform: (-100%, -100%);\n    position: absolute;\n    top: 0;\n    right: 0;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n}\n\n.banner_img:hover .delete_btn {\n    opacity: 1;\n}\n\n.banners_add {\n    position: fixed;\n    bottom: 0;\n    right: 0;\n    margin-bottom: 30px;\n    margin-right: 20px;\n    border-radius: 10px;\n}\n\n.add_banner_img {\n    height: 100px;\n    width: 100px;\n    cursor: pointer;\n    margin-bottom: 5px;\n}\n\n.add_banner_img img {\n    height: 100%;\n    width: 100%;\n    object-fit: contain;\n}",""]);const o=a}}]);