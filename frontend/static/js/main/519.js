(self.webpackChunkbiz_app=self.webpackChunkbiz_app||[]).push([[519],{6610:(e,t,a)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,{Z:()=>n})},39155:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var n=a(67294),o=a(37703),l=a(1415),r=a(8719),c=a(51446),i=a(29130),s=a(8295),u=a(42905);function m(e){var t=e.notification,a=(e.deleteMobileNotification,e.editNotification);return n.createElement("div",null,n.createElement("div",{className:"card"},n.createElement("div",{className:"notification_img"},n.createElement("img",{src:t.pic?"..".concat(t.pic):"",alt:""}),n.createElement("div",{className:"delete_btn",onClick:function(){return deleteBanner(banner.id)}},"x")),n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between align-items-center"},n.createElement("h6",{className:"font-weight-bold mt-2"},null==t?void 0:t.name),n.createElement("i",{onClick:function(){return a(t)},className:"fas fa-edit"}))),n.createElement("div",{className:"card-body p-4"},n.createElement("p",null,null!=t&&t.detail?t.detail:""))))}function f(e){var t=e.notifications,a=e.changePage,o=e.editNotification,l=e.deleteMobileNotification;return n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},n.createElement("div",{className:"d-flex justify-content-end"},n.createElement("div",{className:"btn btn-primary",onClick:function(){return a(2)}},"Add Notification")),n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},t.map((function(e,t){return n.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 col-xs-12"},n.createElement(m,{key:t,notification:e,editNotification:o,deleteMobileNotification:l}))}))))))}var d=a(5186),p=a(15643),g=a(76523),v=a(73288),h=a(79860),E=a(15690),y=a(23157),b=a(70601);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,o=!1,l=void 0;try{for(var r,c=e[Symbol.iterator]();!(n=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){o=!0,l=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function w(e){var t=e.addMobileNotification,a=e.changePage,o=[{label:"All",value:"All"},{label:"Retailer",value:"Retailer"},{label:"SalesPeople",value:"SalesPeople"}],l=N((0,n.useState)(""),2),i=l[0],s=l[1],u=N((0,n.useState)(""),2),m=u[0],f=u[1],S=N((0,n.useState)(null),2),w=S[0],x=S[1],P=N((0,n.useState)("../static/images/add_image.png"),2),_=P[0],M=P[1],Z=N((0,n.useState)(""),2),k=Z[0],C=Z[1],O=N((0,n.useState)(""),2),j=O[0],D=O[1],R=N((0,n.useState)(""),2),A=R[0],B=R[1],q=N((0,n.useState)(""),2),V=q[0],T=q[1],F=N((0,n.useState)(""),2),z=F[0],I=F[1],L=N((0,n.useState)(""),2),U=L[0],X=L[1],J=N((0,n.useState)("Notification"),2),Y=J[0],$=J[1],Q=N((0,n.useState)(""),2),G=Q[0],H=Q[1],K=N((0,n.useState)(""),2),W=K[0],ee=K[1],te=N((0,n.useState)(0),2),ae=te[0],ne=te[1],oe=N((0,n.useState)(null),2),le=oe[0],re=oe[1],ce=N((0,n.useState)(""),2),ie=ce[0],se=ce[1],ue=N((0,n.useState)(0),2),me=ue[0],fe=ue[1],de=N((0,n.useState)(1),2),pe=de[0],ge=de[1],ve=N((0,n.useState)(o[0]),2),he=ve[0],Ee=ve[1];(0,n.useEffect)((function(){var e=Math.random();fe(e),ge(e+10)}),[]);var ye="Notification"==Y?"col-lg-12 col-md-12 col-sm-12 col-xs-12":"col-lg-6 col-md-12 col-sm-12 col-xs-12";return n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between ml-2 mr-2"},n.createElement("center",null,n.createElement("h3",null,"Add Notification")),n.createElement(v.Z,{prevPropsName:"Notifications",propsName:"Add Notification",changePage:a}))),n.createElement("div",{className:"card-content"},n.createElement(g.Z,{isError:le,responseMessage:ie}),n.createElement("center",null,n.createElement("div",{className:"add_notification_img",onClick:function(){return ae.click()}},n.createElement("img",{src:_,alt:""}),n.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var a=URL.createObjectURL(t);M(a),function(e){(0,p.Z)(e).then((function(e){x(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return ne(e)}}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Notification Name* ",n.createElement(b.Z,{message:"Enter Notification Name"}),"  "),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add notification name",value:i,onChange:function(e){return s(e.target.value)},required:!0,autoFocus:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Display text* ",n.createElement(b.Z,{message:"Enter Display Message"})),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add display text",value:m,onChange:function(e){return f(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:ye},n.createElement("label",null,"Notification type* ",n.createElement(b.Z,{message:"Choose a Notification Type"})),n.createElement("select",{className:"form-control",value:Y,onChange:function(e){$(e.target.value),"Product"==e.target.value?ee(""):("Offer"==e.target.value||ee(""),H(""))},required:!0},["Notification","Product","Offer"].map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),"Product"==Y?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Product* ",n.createElement(b.Z,{message:"Choose a Product"})),n.createElement(h.Z,{isMulti:!1,value:G,setValue:function(e){return H(e)},fetchData:r.RQ,closeMenuOnSelect:!0})):"Offer"==Y?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Offer* ",n.createElement(b.Z,{message:"Choose an Offer"})," "),n.createElement(h.Z,{isMulti:!1,value:W,setValue:function(e){return ee(e)},fetchData:c.ZB,closeMenuOnSelect:!0})):n.createElement("div",null)),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show From* ",n.createElement(b.Z,{message:"Select from Date"})),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show from date",value:j,onChange:function(e){return D(e.target.value)},required:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show To*  ",n.createElement(b.Z,{message:"Select to Date"})),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show to date",value:A,onChange:function(e){return B(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Receivers  ",n.createElement(b.Z,{message:"Choose Receivers"})," "),n.createElement(y.ZP,{value:he,onChange:function(e){return Ee(e)},closeMenuOnSelect:!0,options:o})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Region  ",n.createElement(b.Z,{message:"Choose a Region"}),"  "),n.createElement(h.Z,{isMulti:!1,value:V,setValue:function(e){T(e),I(""),fe(Math.random()),X("")},fetchData:d.J4,closeMenuOnSelect:!0}))),V?n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:z?"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group":"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display City  ",n.createElement(b.Z,{message:"Choose a City"}),"  "),n.createElement(E.Z,{isMulti:!1,value:z,setValue:function(e){I(e),ge(Math.random()+10),X("")},fetchData:d.Y9,closeMenuOnSelect:!0,additional:{page:1,region:V?V.value.id:""},key:me})),z?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Area  ",n.createElement(b.Z,{message:"Choose an Area"})," "),n.createElement(E.Z,{isMulti:!1,value:U,setValue:function(e){return X(e)},fetchData:d.qL,closeMenuOnSelect:!0,additional:{page:1,city:z.value.id},key:pe})):n.createElement("div",null)):n.createElement("div",null),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Details* ",n.createElement(b.Z,{message:"Enter Details"})," "),n.createElement("textarea",{type:"text",rows:"4",className:"form-control",placeholder:"Please add notification detail",value:k,onChange:function(e){return C(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{onClick:function(){return function(){if(re(null),se(""),i&&m&&k&&j&&A&&Y)if("Product"!=Y||G)if("Offer"!=Y||W){var e=new FormData;e.append("name",i),e.append("display_text",m),e.append("detail",k),e.append("show_from",j),e.append("show_to",A),e.append("product_id",G?G.value.id:""),e.append("offer_id",W?W.value.id:""),e.append("region_id",V?V.value.id:""),e.append("city_id",z?z.value.id:""),e.append("area_id",U?U.value.id:""),e.append("status",Y),e.append("select_type",he.value),w&&e.append("photo",w),t(e)}else re(!0),se("Please select banner offer");else re(!0),se("Please select banner product");else Y?i?m?k?j?A?(re(!0),se("Please input all relevant fields")):(re(!0),se("Please input show to date")):(re(!0),se("Please input show from date")):(re(!0),se("Please input notification details")):(re(!0),se("Please input display text")):(re(!0),se("Please input notification name")):(re(!0),se("Please select notification type"))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Add Notificaiton"))))))}var x=a(69688);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,o=!1,l=void 0;try{for(var r,c=e[Symbol.iterator]();!(n=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){o=!0,l=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function M(e){var t=e.updateMobileNotification,a=e.changePage,o=e.notification,l=[{label:"All",value:"All"},{label:"Retailer",value:"Retailer"},{label:"SalesPeople",value:"SalesPeople"}],i=P((0,n.useState)(""),2),s=i[0],u=i[1],m=P((0,n.useState)(""),2),f=m[0],N=m[1],S=P((0,n.useState)(null),2),w=S[0],_=S[1],M=P((0,n.useState)("../static/images/add_image.png"),2),Z=M[0],k=M[1],C=P((0,n.useState)(""),2),O=C[0],j=C[1],D=P((0,n.useState)(""),2),R=D[0],A=D[1],B=P((0,n.useState)(""),2),q=B[0],V=B[1],T=P((0,n.useState)(""),2),F=T[0],z=T[1],I=P((0,n.useState)(""),2),L=I[0],U=I[1],X=P((0,n.useState)(""),2),J=X[0],Y=X[1],$=P((0,n.useState)("Notification"),2),Q=$[0],G=$[1],H=P((0,n.useState)(""),2),K=H[0],W=H[1],ee=P((0,n.useState)(""),2),te=ee[0],ae=ee[1],ne=P((0,n.useState)(0),2),oe=ne[0],le=ne[1],re=P((0,n.useState)(null),2),ce=re[0],ie=re[1],se=P((0,n.useState)(""),2),ue=se[0],me=se[1],fe=P((0,n.useState)(0),2),de=fe[0],pe=fe[1],ge=P((0,n.useState)(1),2),ve=ge[0],he=ge[1],Ee=P((0,n.useState)(l[0]),2),ye=Ee[0],be=Ee[1];(0,n.useEffect)((function(){if(o){var e=o.product?{value:o.product,label:o.product.name}:"",t=o.offer?{value:o.offer,label:o.offer.name}:"",a=o.region?{value:o.region,label:o.region.name}:"",n=o.city?{value:o.city,label:o.city.name}:"",r=o.area?{value:o.area,label:o.area.name}:"",c=l.filter((function(e){return e.value==o.send_to}));c[0]&&be(c[0]),u(o.name),N(o.display_text),j(o.detail),A((0,x.Z)(o.show_from)),V((0,x.Z)(o.show_to)),k(o.pic?o.pic:"../static/images/add_image.png"),G(o.status),W(e),ae(t),z(a),U(n),Y(r)}var i=Math.random();pe(i),he(i+10)}),[o]);var Ne="Notification"==Q?"col-lg-12 col-md-12 col-sm-12 col-xs-12":"col-lg-6 col-md-12 col-sm-12 col-xs-12";return n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},n.createElement("div",{className:"card"},n.createElement("div",{className:"card-header"},n.createElement("div",{className:"row justify-content-between ml-2 mr-2"},n.createElement("center",null,n.createElement("h3",null,"Edit Notification")),n.createElement(v.Z,{prevPropsName:"Notifications",propsName:"Edit Notification",changePage:a}))),n.createElement("div",{className:"card-content"},n.createElement(g.Z,{isError:ce,responseMessage:ue}),n.createElement("center",null,n.createElement("div",{className:"add_notification_img",onClick:function(){return oe.click()}},n.createElement("img",{src:Z,alt:""}),n.createElement("input",{className:"image_input",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var a=URL.createObjectURL(t);k(a),function(e){(0,p.Z)(e).then((function(e){_(e)})).catch((function(e){return console.log(e)}))}(t)}}(e)},ref:function(e){return le(e)}}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Notification Name* ",n.createElement(b.Z,{message:"Enter Notification Name"})),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add notification name",value:s,onChange:function(e){return u(e.target.value)},required:!0,autoFocus:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Display text* ",n.createElement(b.Z,{message:"Enter Display Message"})," "),n.createElement("input",{type:"text",className:"form-control",placeholder:"Please add display text",value:f,onChange:function(e){return N(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:Ne},n.createElement("label",null,"Notification type* ",n.createElement(b.Z,{message:"Choose a Notification Type"}),"  "),n.createElement("select",{className:"form-control",value:Q,onChange:function(e){G(e.target.value),"Product"==e.target.value?ae(""):("Offer"==e.target.value||ae(""),W(""))},required:!0},["Notification","Product","Offer"].map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),"Product"==Q?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Product* ",n.createElement(b.Z,{message:"Choose a Product"})," "),n.createElement(h.Z,{isMulti:!1,value:K,setValue:function(e){return W(e)},fetchData:r.RQ,closeMenuOnSelect:!0})):"Offer"==Q?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Offer*  ",n.createElement(b.Z,{message:"Choose an Offer"})),n.createElement(h.Z,{isMulti:!1,value:te,setValue:function(e){return ae(e)},fetchData:c.ZB,closeMenuOnSelect:!0})):n.createElement("div",null)),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show From* ",n.createElement(b.Z,{message:"Select from Date"})," "),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show from date",value:R,onChange:function(e){return A(e.target.value)},required:!0})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Show To*  ",n.createElement(b.Z,{message:"Select to Date"})),n.createElement("input",{type:"date",className:"form-control",placeholder:"Please input show to date",value:q,onChange:function(e){return V(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Receivers  ",n.createElement(b.Z,{message:"Choose Receivers"}),"  "),n.createElement(y.ZP,{value:ye,onChange:function(e){return be(e)},closeMenuOnSelect:!0,options:l})),n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Region  ",n.createElement(b.Z,{message:"Choose a Region"}),"   "),n.createElement(h.Z,{isMulti:!1,value:F,setValue:function(e){z(e),U(""),pe(Math.random()),Y("")},fetchData:d.J4,closeMenuOnSelect:!0}))),F?n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:L?"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group":"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display City ",n.createElement(b.Z,{message:"Choose a City"}),"  "),n.createElement(E.Z,{isMulti:!1,value:L,setValue:function(e){U(e),he(Math.random()+10),Y("")},fetchData:d.Y9,closeMenuOnSelect:!0,additional:{page:1,region:F.value.id},key:de})),L?n.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Select Display Area ",n.createElement(b.Z,{message:"Choose an Area"})," "),n.createElement(E.Z,{isMulti:!1,value:J,setValue:function(e){return Y(e)},fetchData:d.qL,closeMenuOnSelect:!0,additional:{page:1,city:L.value.id},key:ve})):n.createElement("div",null)):n.createElement("div",null),n.createElement("div",{className:"row justify-content-between"},n.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"},n.createElement("label",null,"Details* ",n.createElement(b.Z,{message:"Enter Details"}),"  "),n.createElement("textarea",{type:"text",rows:"4",className:"form-control",placeholder:"Please add notification detail",value:O,onChange:function(e){return j(e.target.value)},required:!0}))),n.createElement("div",{className:"row justify-content-end"},n.createElement("div",{onClick:function(){return function(){if(ie(null),me(""),s&&f&&O&&R&&q&&Q)if("Product"!=Q||K)if("Offer"!=Q||te){var e=new FormData;e.append("name",s),e.append("display_text",f),e.append("detail",O),e.append("show_from",R),e.append("show_to",q),e.append("product_id",K?K.value.id:""),e.append("offer_id",te?te.value.id:""),e.append("region_id",F?F.value.id:""),e.append("city_id",L?L.value.id:""),e.append("area_id",J?J.value.id:""),e.append("status",Q),e.append("id",o.id),e.append("select_type",ye.value),w&&e.append("photo",w),t(e)}else ie(!0),me("Please select banner offer");else ie(!0),me("Please select banner product");else Q?s?f?O?R?q?(ie(!0),me("Please input all relevant fields")):(ie(!0),me("Please input show to date")):(ie(!0),me("Please input show from date")):(ie(!0),me("Please input notification details")):(ie(!0),me("Please input display text")):(ie(!0),me("Please input notification name")):(ie(!0),me("Please select notification type"))}()},className:"btn btn-primary btn-lg mt-5 mr-5 mb-2"},"Save Notificaiton"))))))}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a(78461);var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(c,e);var t,a,o,l,r=(o=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(o);if(l){var a=D(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return O(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=r.call(this,e)).state={openSnackBar:!1,isError:null,responseMessage:"",snackPosition:{vertical:"top",horizontal:"center"},currentPage:1,viewNotification:null},t.closeSnackBar=t.closeSnackBar.bind(j(t)),t.setResponse=t.setResponse.bind(j(t)),t.changePage=t.changePage.bind(j(t)),t.vieweditNotification=t.vieweditNotification.bind(j(t)),t}return t=c,(a=[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.message;a!==e.error?this.setResponse(a):n!==e.message&&(201==n.status&&this.setState({currentPage:1}),this.setResponse(n))}},{key:"componentDidMount",value:function(){this.props.fetchMobileNotifications(1)}},{key:"changePage",value:function(e){this.setState({currentPage:e})}},{key:"vieweditNotification",value:function(e){this.setState({viewNotification:e,currentPage:3})}},{key:"setResponse",value:function(e){var t=Object.keys(e.responseMessage)[0],a=e.responseMessage[t];a instanceof Array?this.setState({responseMessage:a[0],isError:e.isError,openSnackBar:!0}):this.setState({responseMessage:a,isError:e.isError,openSnackBar:!0})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this.props,t=e.notificationsReducer,a=e.addMobileNotification,o=e.updateMobileNotification,l=e.deleteMobileNotification,r=e.auth,c=e.offersReducer,m=e.productsReducer,d=e.fetchProducts,p=e.fetchPriceOffers,g=t.isLoading,v=t.notifications,h=this.state,E=h.openSnackBar,y=h.isError,b=h.responseMessage,N=h.snackPosition,S=h.currentPage,x=h.viewNotification,P={isError:y,responseMessage:b,openSnackBar:E,snackPosition:N};if(!r.group.permission.can_manage_mobile)return(0,i.Z)(this.props.auth.group.permission);switch(S){case 1:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(f,{notifications:v,changePage:this.changePage,editNotification:this.vieweditNotification,deleteMobileNotification:l}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}));case 2:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(w,{changePage:this.changePage,addMobileNotification:a}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}));case 3:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(M,{changePage:this.changePage,updateMobileNotification:o,notification:x}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}));default:return n.createElement("div",null,n.createElement(u.Z,{open:g}),n.createElement(f,{notifications:v,changePage:this.changePage,updateMobileNotification:o,deleteMobileNotification:l,products:m.products,offers:c.offers,fetchProducts:d,fetchPriceOffers:p}),n.createElement(s.Z,{values:P,closeSnackBar:this.closeSnackBar}))}}}])&&k(t.prototype,a),c}(n.Component);const A=(0,o.$j)((function(e){return{auth:e.authReducer,notificationsReducer:e.notificationsReducer,productsReducer:e.productsReducer,offersReducer:e.offersReducer,error:e.errorsReducer,message:e.messagesReducer}}),{fetchMobileNotifications:l.t7,addMobileNotification:l.sq,updateMobileNotification:l.bB,deleteMobileNotification:l.fn,fetchProducts:r.t2,fetchPriceOffers:c.zM})(R)},51446:(e,t,a)=>{"use strict";a.d(t,{zM:()=>s,ZB:()=>u,cw:()=>m,JV:()=>f,rh:()=>d});var n=a(9669),o=a.n(n),l=a(34464),r=a(44997),c=a(58343),i=a(66808),s=function(e,t,a,n){return function(r,s){r({type:i.MD});var u=(0,l.Z)(s),m="../retailer/api/priceOffer?page=".concat(e);t&&(m+="&product_id=".concat(t)),a&&(m+="&query=".concat(a)),n&&(m+="&rows=".concat(n)),o().get(m,u).then((function(t){r({type:i.tF,payload:{offers:t.data.price_offers,currentPage:e,lastPage:t.data.last_page}})})).catch((function(e){var t={responseMessage:e.response.data,status:e.response.status};r((0,c.x)(t)),r({type:i.CX})}))}};function u(e,t,a){var n=a.page,l=localStorage.getItem("token"),r={headers:{Accept:"application/json","Content-Type":"application/json"}};l&&(r.headers.Authorization="Token ".concat(l));var c=e?"../retailer/api/priceOffer/?page=".concat(n,"&query=").concat(e):"../retailer/api/priceOffer/?page=".concat(n);return new Promise((function(e,t){o().get(c,r).then((function(t){var a=!1;t.data.last_page>n&&(a=!0);var o=t.data.price_offers.map((function(e){return{value:e,label:e.name}}));e({options:o,hasMore:a,additional:{page:n+1}})})).catch((function(e){t(e.response.data)}))}))}var m=function(e){return function(t,a){t({type:i.MD});var n=(0,r.Z)(a);o().post("../retailer/api/priceOffer/",e,n).then((function(e){t((0,c.i)(e.data,e.status)),t({type:i.g7,payload:e.data}),t({type:i.SV,payload:e.data.view_complete})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,c.x)(a)),t({type:i.CX})}))}},f=function(e){return function(t,a){t({type:i.MD});var n=(0,r.Z)(a);o().put("../retailer/api/priceOffer/",e,n).then((function(e){t((0,c.i)(e.data,e.status)),t({type:i.tN,payload:e.data})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,c.x)(a)),t({type:i.CX})}))}},d=function(e){return function(t,a){t({type:i.MD});var n=(0,r.Z)(a);o().delete("../retailer/api/priceOffer?offer_id=".concat(e),n).then((function(a){t((0,c.i)(a.data,a.status)),t({type:i.Bg,payload:e})})).catch((function(e){var a={responseMessage:e.response.data,status:e.response.status};t((0,c.x)(a)),t({type:i.CX})}))}}},69688:(e,t,a)=>{"use strict";function n(e){var t=new Date(e),a=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),n=t.getMonth()+1,o=n<10?"0".concat(n):n;return t.getFullYear()+"-"+o+"-"+a}a.d(t,{Z:()=>n})},74762:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(23645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,".notification_img {\n    height: 200px;\n    width: 100%;\n    border-radius: 20px;\n    overflow: hidden;\n}\n\n.notification_img img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n    object-position: center;\n}\n\n.add_notification_img {\n    height: 150px;\n    width: 150px;\n    cursor: pointer;\n    margin-bottom: 5px;\n}\n\n.add_notification_img img {\n    height: 100%;\n    width: 100%;\n    object-fit: contain;\n}\n\n.notification-ui_dd-content {\n    margin-bottom: 30px;\n}\n\n.notification-list {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n    padding: 20px;\n    margin-bottom: 7px;\n    -webkit-box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);\n}\n\n.notification-list--unread {\n    border-left: 2px solid #29b6f6;\n}\n\n.notification-list .notification-list_content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n\n.notification-list .notification-list_content .notification-list_img img {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    margin-right: 20px;\n}\n\n.notification-list .notification-list_content .notification-list_detail p {\n    margin-bottom: 5px;\n    line-height: 1.2;\n}\n\n.notification-list .notification-list_feature-img img {\n    height: 48px;\n    width: 48px;\n    border-radius: 5px;\n    margin-left: 20px;\n}\n\n.notificationDetail_img {\n    height: 100px;\n    width: 100px;\n    overflow: hidden;\n}\n\n.notificationDetail_img img {\n    max-height: 100%;\n    max-width: 100%;\n    object-fit: contain;\n}",""]);const l=o},69921:(e,t)=>{"use strict";if("function"==typeof Symbol&&Symbol.for){var a=Symbol.for;a("react.element"),a("react.portal"),a("react.fragment"),a("react.strict_mode"),a("react.profiler"),a("react.provider"),a("react.context"),a("react.forward_ref"),a("react.suspense"),a("react.suspense_list"),a("react.memo"),a("react.lazy"),a("react.block"),a("react.server.block"),a("react.fundamental"),a("react.debug_trace_mode"),a("react.legacy_hidden")}},59864:(e,t,a)=>{"use strict";a(69921)},78461:(e,t,a)=>{"use strict";var n=a(93379),o=a.n(n),l=a(74762);o()(l.Z,{insert:"head",singleton:!1}),l.Z.locals}}]);