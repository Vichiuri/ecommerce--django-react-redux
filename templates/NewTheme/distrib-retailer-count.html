{% extends 'NewTheme/distributors.html' %}
{% load humanize %}

{% load static %}

{% block content %}

<div class="row mt-0 justify-content-center">
    <div class="col-12 text-center">
        <!-- Recent Order Table -->
        <div class="card card-table-bordered" id="recent-orders">
        <div class="card-header justify-content-between pt-1">

            <div class="text-left d-flex justify-content-between align-items-center">
                <span class='text-primary' style='font-size: 30px;'><i class="fa fa-hourglass-half" aria-hidden="true"></i> Distributors - Retailers Count  &nbsp;</span>
                <span><a href="{% url 'distributor:index' %}" class="badge badge-danger"> <h6> Back To Dashboard</h6> </a></span>
            </div>
        </div>
        <!-- <hr class="separator bg-secondary"> -->
        <div class="card-body pt-0 pb-5">
            <table class="table table-sm table-responsive" id="myTableSubscription" style="width:100%"
                data-toggle="table"
                data-search="true"
                data-pagination="true"
                data-page-list="[5, 10, 25, 50, 100, all]"
                data-show-export="true"
                data-show-toggle="true" 
                data-show-fullscreen="true"
                data-show-columns="true"
                data-minimum-count-columns="10"
                data-show-columns-toggle-all="true"
                data-id-field="id"
            >
            <thead class='bg-primary'>
                <tr>
                <th class='text-light p-1' data-sortable="true">#</th>
                <th class='text-light p-1' data-sortable="true">Distributor Name</th>
                <th class='text-light p-1' data-sortable="true">Number of Retailers</th>
                <th class='text-light p-1' data-sortable="true">Distributor Subscription</th>
                </tr>
            </thead>
            <tbody class=" table-sm">
                <tr>
                    {% for d in distributors %}
                    <td class="text-dark">{{ forloop.counter }}</td>
                    <td >
                        <a class="text-dark" href=""> {{ d.name }}</a>
                    </td>
                    <td class="d-none d-md-table-cell"><span class="badge badge-success">{{ d.ret_distributors.all|length }}</span></td>
                    <td class="d-none d-md-table-cell">{{ d.subscription}}</td>
                </tr>
                {% endfor %}
                
            </tbody>
            </table>
        </div>
        </div>
    </div>
</div>	




{% endblock %}

